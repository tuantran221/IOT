{"ast":null,"code":"var _jsxFileName = \"/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/src/pages/Public.jsx\",\n    _s = $RefreshSig$();\n\nimport { IconButton, TextField } from \"@material-ui/core\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport React, { useState, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"../components/Helmet\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  inputInput: {\n    minWidth: \"400px\",\n    marginBottom: \"-20px\",\n    border: 0,\n    borderRadius: 20,\n    color: \"white\"\n  },\n  iconee: {\n    fontSize: \"30px\"\n  },\n  radio1: {\n    height: 40,\n    marginRight: 100\n  },\n  radio2: {\n    height: 40\n  }\n}));\n\nconst Public = props => {\n  _s();\n\n  const classes = useStyles(); // using useState to set state foe values\n\n  const [name, Setname] = useState(\"\");\n  const [type, Settype] = useState(\"file\");\n  const [newurl, setNewurl] = useState(\"...\");\n  const [idinfor, setIdinfor] = useState(\"http://localhost:5000/\");\n  const [errorMessages, setErrorMessages] = useState({});\n  const errors = {\n    uname: \"Please enter file name\",\n    pass: \"please choose File or Folder\",\n    success: \"successfull copied\"\n  };\n  console.log(\"newurl\", newurl);\n\n  const addFrom = async () => {\n    document.getElementById(\"reset\").value = \"\";\n\n    if (name === \"\") {\n      setErrorMessages({\n        name: \"uname\",\n        message: errors.uname\n      });\n    } else if (type === undefined) {\n      setErrorMessages({\n        name: \"pass\",\n        message: errors.pass\n      });\n    } else {\n      var newform = {\n        filename: name,\n        isPrivate: false,\n        type: type\n      };\n      let Id = await axios({\n        method: \"POST\",\n        url: \"http://localhost:5000/api/create/\",\n        data: newform\n      });\n      console.log(Id);\n      Setname(\"\");\n      Settype(\"\");\n      console.log(\"form\", newform.type);\n      setNewurl(Id.data.data.fileID);\n      console.log(\"url\", Id.data.data.fileID);\n    }\n  };\n\n  const LogIN_page = () => {\n    props.history.push(\"/Login\");\n  };\n\n  const renderErrorMessage = name => name === errorMessages.name && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: errorMessages.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 7\n  }, this);\n\n  const [text, setText] = useState(\"\");\n\n  const inputHandler = () => {\n    setText(idinfor + newurl);\n  };\n\n  const copy = async () => {\n    await navigator.clipboard.writeText(text);\n    setErrorMessages({\n      name: \"success\",\n      message: errors.success\n    });\n  };\n\n  const handleChange = event => {\n    Settype(event.target.value);\n  };\n\n  function copyToClipboard(e) {\n    textAreaRef.current.select();\n    document.execCommand(\"copy\"); // This is just personal preference.\n    // I prefer to not show the whole text area selected.\n\n    e.target.focus();\n    setCopySuccess(\"Copied!\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(Helmet, {\n    title: \"Public page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button_login\",\n        onClick: () => LogIN_page(),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bx bx-user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"-20px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../images/logo_TTU.png\",\n        style: {\n          height: \"150px\",\n          width: \"130px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formaddtext\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.inputInput,\n          fullWidth: true,\n          id: \"reset\",\n          type: \"text\",\n          onChange: e => Setname(e.target.value),\n          name: \"uname\",\n          variant: \"outlined\",\n          placeholder: \"Create File/Folder\",\n          InputProps: {\n            style: {\n              borderRadius: 100,\n              paddingLeft: \"50px\",\n              fontSize: 15\n            },\n            endAdornment: /*#__PURE__*/_jsxDEV(IconButton, {\n              children: /*#__PURE__*/_jsxDEV(SearchOutlined, {\n                className: classes.iconee,\n                onClick: () => addFrom()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), renderErrorMessage(\"uname\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [\"File\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: type === \"file\",\n        onChange: handleChange,\n        value: \"file\",\n        name: \"pass\",\n        defaultValue: type,\n        className: classes.radio1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), \"Folder\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: type === \"folder\",\n        onChange: handleChange,\n        value: \"folder\",\n        name: \"pass\",\n        className: classes.radio2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", renderErrorMessage(\"pass\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"url\",\n      style: {\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"This is your URL:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"red\",\n            cursor: \"pointer\"\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n            to: newurl,\n            target: \"_blank\",\n            children: [\" \", idinfor + newurl]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"inputgetURL\",\n        type: \"text\",\n        name: \"success\",\n        value: text,\n        onChange: inputHandler,\n        style: {\n          width: \"400px\",\n          height: \"30px\"\n        },\n        placeholder: \"Enter spacebar to get link \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"350px\",\n          marginTop: \"-33px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: copy,\n          disabled: !text,\n          style: {\n            background: \"none\",\n            border: \"none\",\n            marginLeft: \"10px\",\n            paddingTop: \"-10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"bx bx-copy\",\n            variant: \"inherit\",\n            style: {\n              fontSize: \"30px\",\n              lineHeight: \"20px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: renderErrorMessage(\"success\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Public, \"IiR0stIMuXozteQDuiSfWJ4S85Q=\", false, function () {\n  return [useStyles];\n});\n\n_c = Public;\nexport default Public;\n\nvar _c;\n\n$RefreshReg$(_c, \"Public\");","map":{"version":3,"sources":["/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/src/pages/Public.jsx"],"names":["IconButton","TextField","Radio","makeStyles","SearchOutlined","axios","React","useState","useRef","Link","Helmet","useStyles","inputInput","minWidth","marginBottom","border","borderRadius","color","iconee","fontSize","radio1","height","marginRight","radio2","Public","props","classes","name","Setname","type","Settype","newurl","setNewurl","idinfor","setIdinfor","errorMessages","setErrorMessages","errors","uname","pass","success","console","log","addFrom","document","getElementById","value","message","undefined","newform","filename","isPrivate","Id","method","url","data","fileID","LogIN_page","history","push","renderErrorMessage","text","setText","inputHandler","copy","navigator","clipboard","writeText","handleChange","event","target","copyToClipboard","e","textAreaRef","current","select","execCommand","focus","setCopySuccess","textAlign","width","style","paddingLeft","endAdornment","cursor","marginLeft","marginTop","background","paddingTop","lineHeight"],"mappings":"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","sourcesContent":["import { IconButton, TextField } from \"@material-ui/core\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport React, { useState, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"../components/Helmet\";\n\nconst useStyles = makeStyles(() => ({\n  inputInput: {\n    minWidth: \"400px\",\n    marginBottom: \"-20px\",\n\n    border: 0,\n    borderRadius: 20,\n    color: \"white\",\n  },\n  iconee: {\n    fontSize: \"30px\",\n  },\n  radio1: {\n    height: 40,\n    marginRight: 100,\n  },\n  radio2: {\n    height: 40,\n  },\n}));\n\nconst Public = (props) => {\n  const classes = useStyles();\n  // using useState to set state foe values\n  const [name, Setname] = useState(\"\");\n  const [type, Settype] = useState(\"file\");\n  const [newurl, setNewurl] = useState(\"...\");\n  const [idinfor, setIdinfor] = useState(\"http://localhost:5000/\");\n  const [errorMessages, setErrorMessages] = useState({});\n\n  \n  const errors = {\n    uname: \"Please enter file name\",\n    pass: \"please choose File or Folder\",\n    success: \"successfull copied\",\n  };\n  console.log(\"newurl\", newurl);\n  const addFrom = async () => {\n    document.getElementById(\"reset\").value = \"\";\n\n    if (name === \"\") {\n      setErrorMessages({ name: \"uname\", message: errors.uname });\n    } else if (type === undefined) {\n      setErrorMessages({ name: \"pass\", message: errors.pass });\n    } else {\n      var newform = {\n        filename: name,\n        isPrivate: false,\n        type: type,\n      };\n      let Id = await axios({\n        method: \"POST\",\n        url: \"http://localhost:5000/api/create/\",\n        data: newform,\n      });\n      console.log(Id);\n      Setname(\"\");\n      Settype(\"\");\n      console.log(\"form\", newform.type);\n      setNewurl(Id.data.data.fileID);\n      console.log(\"url\", Id.data.data.fileID);\n    }\n  };\n\n  const LogIN_page = () => {\n    props.history.push(\"/Login\");\n  };\n\n  const renderErrorMessage = (name) =>\n    name === errorMessages.name && (\n      <div className=\"error\">{errorMessages.message}</div>\n    );\n\n  const [text, setText] = useState(\"\");\n\n  const inputHandler = () => {\n    setText(idinfor + newurl);\n  };\n\n  const copy = async () => {\n    await navigator.clipboard.writeText(text);\n\n    setErrorMessages({ name: \"success\", message: errors.success });\n  };\n\n  const handleChange = (event) => {\n    Settype(event.target.value);\n  };\n\n  function copyToClipboard(e) {\n    textAreaRef.current.select();\n    document.execCommand(\"copy\");\n    // This is just personal preference.\n    // I prefer to not show the whole text area selected.\n    e.target.focus();\n    setCopySuccess(\"Copied!\");\n  }\n\n  return (\n    <Helmet title=\"Public page\">\n      <div className=\"Login\">\n        <button className=\"button_login\" onClick={() => LogIN_page()}>\n          <i className=\"bx bx-user\"></i>\n        </button>\n      </div>\n\n      <div style={{ textAlign: \"center\", marginBottom: \"-20px\" }}>\n        <img\n          src=\"../images/logo_TTU.png\"\n          style={{ height: \"150px\", width: \"130px\" }}\n        />\n      </div>\n\n      <div className=\"formaddtext\">\n        <div>\n          <TextField\n            className={classes.inputInput}\n            fullWidth\n            id=\"reset\"\n            type=\"text\"\n            onChange={(e) => Setname(e.target.value)}\n            name=\"uname\"\n            variant=\"outlined\"\n            placeholder=\"Create File/Folder\"\n            InputProps={{\n              style: {\n                borderRadius: 100,\n                paddingLeft: \"50px\",\n\n                fontSize: 15,\n              },\n\n              endAdornment: (\n                <IconButton>\n                  <SearchOutlined\n                    className={classes.iconee}\n                    onClick={() => addFrom()}\n                  />\n                </IconButton>\n              ),\n            }}\n          />\n          {renderErrorMessage(\"uname\")}\n        </div>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        File\n        <Radio\n          checked={type === \"file\"}\n          onChange={handleChange}\n          value=\"file\"\n          name=\"pass\"\n          defaultValue={type}\n          className={classes.radio1}\n        />\n        Folder\n        <Radio\n          checked={type === \"folder\"}\n          onChange={handleChange}\n          value=\"folder\"\n          name=\"pass\"\n          className={classes.radio2}\n        />\n        <div> {renderErrorMessage(\"pass\")}</div>\n      </div>\n\n      <div className=\"url\" style={{ textAlign: \"center\" }}>\n        <h3>\n          This is your URL:{\" \"}\n          <span style={{ color: \"red\", cursor: \"pointer\" }}>\n            {\" \"}\n            <Link to={newurl} target=\"_blank\">\n              {\" \"}\n              {idinfor + newurl}\n            </Link>{\" \"}\n          </span>{\" \"}\n        </h3>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        <input\n          className=\"inputgetURL\"\n          type=\"text\"\n          name=\"success\"\n          value={text}\n          onChange={inputHandler}\n          style={{ width: \"400px\", height: \"30px\" }}\n          placeholder=\"Enter spacebar to get link \"\n        />\n\n        <div style={{ marginLeft: \"350px\", marginTop: \"-33px\" }}>\n          <button\n            onClick={copy}\n            disabled={!text}\n            style={{\n              background: \"none\",\n              border: \"none\",\n              marginLeft: \"10px\",\n              paddingTop: \"-10px\",\n            }}\n          >\n            <i\n              class=\"bx bx-copy\"\n              variant=\"inherit\"\n              style={{ fontSize: \"30px\", lineHeight: \"20px\" }}\n            ></i>\n          </button>\n        </div>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>{renderErrorMessage(\"success\")}</div>\n    </Helmet>\n  );\n};\n\nexport default Public;\n"]},"metadata":{},"sourceType":"module"}
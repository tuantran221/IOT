{"ast":null,"code":"var _jsxFileName = \"/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/src/pages/Private.jsx\",\n    _s = $RefreshSig$();\n\nimport { IconButton, TextField } from \"@material-ui/core\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { SearchOutlined, AddToPhotosOutlined } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { nanoid } from \"nanoid\";\nimport { default as React, useState, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"../components/Helmet\";\nimport dataPV from \"../components/Private_data.json\";\nimport config from \"../config\";\nimport ReadOnlyRow from \"../components/ReadOnlyRow\";\nimport Table from \"../components/Table\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  inputInput: {\n    minWidth: \"400px\",\n    marginBottom: \"-20px\",\n    border: 0,\n    borderRadius: 20,\n    color: \"white\"\n  },\n  iconee: {\n    fontSize: \"30px\"\n  },\n  radio1: {\n    height: 40,\n    marginRight: 100,\n    marginLeft: \"10px\"\n  },\n  radio2: {\n    height: 40\n  },\n  radio1P: {\n    height: 40,\n    marginRight: 100\n  },\n  radio2P: {\n    height: 40,\n    marginLeft: \"-5px\"\n  }\n}));\n\nconst Private = props => {\n  _s();\n\n  const classes = useStyles(); // using useState to set state foe values\n\n  const [filename, Setname] = useState(\"\");\n  const [type, Settype] = useState(\"file\");\n  const [inputP, setInputP] = useState(\"false\");\n  const [newurl, setNewurl] = useState(\"...\");\n  const [errorMessages, setErrorMessages] = useState({});\n  const errors = {\n    uname: \"Please enter file name\",\n    pass: \"please choose File or Folder\",\n    PorP: \"please choose Public or Private\",\n    success: \"successfull copied\"\n  };\n\n  const addForm = async () => {\n    document.getElementById(\"reset\").value = \"\";\n    document.getElementById(\"Choose_Yes\").checked = false;\n\n    if (filename === \"\") {\n      setErrorMessages({\n        name: \"uname\",\n        message: errors.uname\n      });\n    } else if (type === undefined || type === \"\") {\n      setErrorMessages({\n        name: \"pass\",\n        message: errors.pass\n      });\n    } else if (inputP === undefined) {\n      setErrorMessages({\n        name: \"PorP\",\n        message: errors.PorP\n      });\n    } else {\n      let token = localStorage.getItem(\"accessToken\");\n      console.log(\"token\", token);\n      var newform = {\n        name: filename,\n        isPrivate: inputP,\n        type: type\n      };\n      let Id = await axios({\n        method: \"POST\",\n        url: config.REACT_APP_SERVER_URL + \"/create\",\n        data: newform,\n        headers: {\n          authorization: \"token: \" + token\n        }\n      });\n      Setname(\"\");\n      Settype(\"\");\n\n      if (newform.type === \"file\") {\n        setNewurl(Id.data.data.ID);\n      } else {\n        setNewurl(Id.data.data.ID);\n      }\n    }\n  };\n\n  const renderErrorMessage = filename => filename === errorMessages.filename && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: errorMessages.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 7\n  }, this);\n\n  const [text, setText] = useState(\"\");\n\n  const inputHandler = () => {\n    setText(config.REACT_APP_SERVER_URL + \"/\" + newurl);\n  };\n\n  const copy = async () => {\n    await navigator.clipboard.writeText(text);\n    setErrorMessages({\n      name: \"success\",\n      message: errors.success\n    });\n  };\n\n  const [contacts, setContacts] = useState(dataPV);\n  const [addFormData, setAddFormData] = useState({\n    Name: \"\",\n    Size: \"\",\n    Dates: \"\",\n    Download: \"\"\n  });\n\n  const handleAddFormSubmit = event => {\n    event.preventDefault();\n    const newContact = {\n      id: nanoid(),\n      Name: addFormData.Name,\n      Size: addFormData.Size,\n      Dates: addFormData.Dates,\n      Download: addFormData.Download\n    };\n    const newContacts = [...contacts, newContact];\n    setContacts(newContacts);\n  };\n\n  const handleDeleteClick = contactId => {\n    const newContacts = [...contacts];\n    const index = contacts.findIndex(contact => contact.id === contactId);\n    newContacts.splice(index, 1);\n    setContacts(newContacts);\n  };\n\n  const Logout_page = () => {\n    props.history.push(\"/\");\n  };\n\n  const handleChange = event => {\n    Settype(event.target.value);\n  };\n\n  const handleP = e => {\n    setInputP(e.target.value);\n  };\n\n  console.log(\"inputfile\", type);\n  return /*#__PURE__*/_jsxDEV(Helmet, {\n    title: \"Public page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"-20px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../images/logo1.png\",\n        style: {\n          height: \"150px\",\n          width: \"200px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formaddtext\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.inputInput,\n          fullWidth: true,\n          id: \"reset\",\n          type: \"text\",\n          onChange: e => Setname(e.target.value),\n          name: \"uname\",\n          variant: \"outlined\",\n          placeholder: \"Create File/Folder\",\n          InputProps: {\n            style: {\n              borderRadius: 100,\n              paddingLeft: \"50px\",\n              fontSize: 15\n            },\n            endAdornment: /*#__PURE__*/_jsxDEV(IconButton, {\n              children: /*#__PURE__*/_jsxDEV(AddToPhotosOutlined, {\n                className: classes.iconee,\n                onClick: () => addForm()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), renderErrorMessage(\"uname\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Logout\",\n        style: {\n          textAlign: \"right\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button_new\",\n          style: {\n            marginTop: \"50px\",\n            marginBottom: \"50px\"\n          },\n          onClick: () => Logout_page(),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"bx bx-log-out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [\"File\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: type === \"file\",\n        onChange: handleChange,\n        value: \"file\",\n        name: \"pass\",\n        className: classes.radio1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), \"Folder\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: type === \"folder\",\n        onChange: handleChange,\n        value: \"folder\",\n        name: \"pass\",\n        className: classes.radio2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", renderErrorMessage(\"pass\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [\"Public\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: inputP === \"false\",\n        onChange: handleP,\n        value: \"false\",\n        name: \"PorP\",\n        id: \"Choose_Yes\",\n        className: classes.radio1P\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), \"Private\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: inputP === \"true\",\n        onChange: handleP,\n        value: \"true\",\n        name: \"PorP\",\n        id: \"Choose_Yes\",\n        className: classes.radio2P\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", renderErrorMessage(\"PorP\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"url\",\n      style: {\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"This is your URL:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"red\",\n            cursor: \"pointer\"\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n            to: newurl,\n            target: \"_blank\",\n            children: [\" \", config.REACT_APP_SERVER_URL + \"/\" + newurl]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"inputgetURL\",\n        type: \"text\",\n        name: \"success\",\n        value: text,\n        onChange: inputHandler,\n        style: {\n          width: \"400px\",\n          height: \"30px\"\n        },\n        placeholder: \"Enter spacebar to get link \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"350px\",\n          marginTop: \"-33px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: copy,\n          disabled: !text,\n          style: {\n            background: \"none\",\n            border: \"none\",\n            marginLeft: \"10px\",\n            paddingTop: \"-10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"bx bx-copy\",\n            variant: \"inherit\",\n            style: {\n              fontSize: \"30px\",\n              lineHeight: \"20px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [renderErrorMessage(\"success\"), /*#__PURE__*/_jsxDEV(Table, {\n        children: [\" theadData=\", theadData, \" tbodyData=\", tbodyData]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Private, \"ccoL2ktVcNEkZNueR/Q/wkdxsoo=\", false, function () {\n  return [useStyles];\n});\n\n_c = Private;\nexport default Private;\n\nvar _c;\n\n$RefreshReg$(_c, \"Private\");","map":{"version":3,"sources":["/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/src/pages/Private.jsx"],"names":["IconButton","TextField","Radio","makeStyles","SearchOutlined","AddToPhotosOutlined","axios","nanoid","default","React","useState","Fragment","Link","Helmet","dataPV","config","ReadOnlyRow","Table","useStyles","inputInput","minWidth","marginBottom","border","borderRadius","color","iconee","fontSize","radio1","height","marginRight","marginLeft","radio2","radio1P","radio2P","Private","props","classes","filename","Setname","type","Settype","inputP","setInputP","newurl","setNewurl","errorMessages","setErrorMessages","errors","uname","pass","PorP","success","addForm","document","getElementById","value","checked","name","message","undefined","token","localStorage","getItem","console","log","newform","isPrivate","Id","method","url","REACT_APP_SERVER_URL","data","headers","authorization","ID","renderErrorMessage","text","setText","inputHandler","copy","navigator","clipboard","writeText","contacts","setContacts","addFormData","setAddFormData","Name","Size","Dates","Download","handleAddFormSubmit","event","preventDefault","newContact","id","newContacts","handleDeleteClick","contactId","index","findIndex","contact","splice","Logout_page","history","push","handleChange","target","handleP","e","textAlign","width","style","paddingLeft","endAdornment","marginTop","cursor","background","paddingTop","lineHeight","theadData","tbodyData"],"mappings":"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","sourcesContent":["import { IconButton, TextField } from \"@material-ui/core\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { SearchOutlined, AddToPhotosOutlined } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { nanoid } from \"nanoid\";\nimport { default as React, useState, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"../components/Helmet\";\nimport dataPV from \"../components/Private_data.json\";\nimport config from \"../config\";\nimport ReadOnlyRow from \"../components/ReadOnlyRow\";\nimport Table from \"../components/Table\";\n\nconst useStyles = makeStyles(() => ({\n  inputInput: {\n    minWidth: \"400px\",\n    marginBottom: \"-20px\",\n\n    border: 0,\n    borderRadius: 20,\n    color: \"white\",\n  },\n  iconee: {\n    fontSize: \"30px\",\n  },\n  radio1: {\n    height: 40,\n    marginRight: 100,\n    marginLeft: \"10px\",\n  },\n  radio2: {\n    height: 40,\n  },\n  radio1P: {\n    height: 40,\n    marginRight: 100,\n  },\n  radio2P: {\n    height: 40,\n    marginLeft: \"-5px\",\n  },\n}));\n\nconst Private = (props) => {\n  const classes = useStyles();\n  // using useState to set state foe values\n  const [filename, Setname] = useState(\"\");\n  const [type, Settype] = useState(\"file\");\n  const [inputP, setInputP] = useState(\"false\");\n\n  const [newurl, setNewurl] = useState(\"...\");\n\n\n  const [errorMessages, setErrorMessages] = useState({});\n\n  const errors = {\n    uname: \"Please enter file name\",\n    pass: \"please choose File or Folder\",\n    PorP: \"please choose Public or Private\",\n    success: \"successfull copied\",\n  };\n\n  const addForm = async () => {\n    document.getElementById(\"reset\").value = \"\";\n    document.getElementById(\"Choose_Yes\").checked = false;\n\n    if (filename === \"\") {\n      setErrorMessages({ name: \"uname\", message: errors.uname });\n    } else if (type === undefined || type === \"\") {\n      setErrorMessages({ name: \"pass\", message: errors.pass });\n    } else if (inputP === undefined) {\n      setErrorMessages({ name: \"PorP\", message: errors.PorP });\n    } else {\n      let token = localStorage.getItem(\"accessToken\");\n      console.log(\"token\", token);\n      var newform = {\n        name: filename,\n        isPrivate: inputP,\n        type: type,\n      };\n      let Id = await axios({\n        method: \"POST\",\n        url: config.REACT_APP_SERVER_URL + \"/create\",\n        data: newform,\n        headers: {\n          authorization: \"token: \" + token,\n        },\n      });\n      Setname(\"\");\n      Settype(\"\");\n      if (newform.type === \"file\") {\n        setNewurl(Id.data.data.ID);\n      } else {\n        setNewurl(Id.data.data.ID);\n      }\n    }\n  };\n\n  const renderErrorMessage = (filename) =>\n    filename === errorMessages.filename && (\n      <div className=\"error\">{errorMessages.message}</div>\n    );\n\n  const [text, setText] = useState(\"\");\n\n  const inputHandler = () => {\n    setText(config.REACT_APP_SERVER_URL + \"/\" + newurl);\n  };\n\n  const copy = async () => {\n    await navigator.clipboard.writeText(text);\n\n    setErrorMessages({ name: \"success\", message: errors.success });\n  };\n\n  const [contacts, setContacts] = useState(dataPV);\n  const [addFormData, setAddFormData] = useState({\n    Name: \"\",\n    Size: \"\",\n    Dates: \"\",\n    Download: \"\",\n  });\n\n  const handleAddFormSubmit = (event) => {\n    event.preventDefault();\n\n    const newContact = {\n      id: nanoid(),\n      Name: addFormData.Name,\n      Size: addFormData.Size,\n      Dates: addFormData.Dates,\n      Download: addFormData.Download,\n    };\n\n    const newContacts = [...contacts, newContact];\n    setContacts(newContacts);\n  };\n\n  const handleDeleteClick = (contactId) => {\n    const newContacts = [...contacts];\n\n    const index = contacts.findIndex((contact) => contact.id === contactId);\n\n    newContacts.splice(index, 1);\n\n    setContacts(newContacts);\n  };\n\n  const Logout_page = () => {\n    props.history.push(\"/\");\n  };\n\n  const handleChange = (event) => {\n    Settype(event.target.value);\n  };\n\n  const handleP = (e) => {\n    setInputP(e.target.value);\n  };\n\n  console.log(\"inputfile\", type);\n\n  return (\n    <Helmet title=\"Public page\">\n      <div style={{ textAlign: \"center\", marginBottom: \"-20px\" }}>\n        <img\n          src=\"../images/logo1.png\"\n          style={{ height: \"150px\", width: \"200px\" }}\n        />\n      </div>\n\n      <div className=\"formaddtext\">\n        <div>\n          <TextField\n            className={classes.inputInput}\n            fullWidth\n            id=\"reset\"\n            type=\"text\"\n            onChange={(e) => Setname(e.target.value)}\n            name=\"uname\"\n            variant=\"outlined\"\n            placeholder=\"Create File/Folder\"\n            InputProps={{\n              style: {\n                borderRadius: 100,\n                paddingLeft: \"50px\",\n\n                fontSize: 15,\n              },\n\n              endAdornment: (\n                <IconButton>\n                  <AddToPhotosOutlined\n                    className={classes.iconee}\n                    onClick={() => addForm()}\n                  />\n                </IconButton>\n              ),\n            }}\n          />\n          {renderErrorMessage(\"uname\")}\n        </div>\n      </div>\n\n      <section>\n        <div className=\"Logout\" style={{ textAlign: \"right\" }}>\n          <button\n            className=\"button_new\"\n            style={{ marginTop: \"50px\", marginBottom: \"50px\" }}\n            onClick={() => Logout_page()}\n          >\n            <i class=\"bx bx-log-out\"></i>\n          </button>\n        </div>\n      </section>\n      <div></div>\n\n      <div style={{ textAlign: \"center\" }}>\n        File\n        <Radio\n          checked={type === \"file\"}\n          onChange={handleChange}\n          value=\"file\"\n          name=\"pass\"\n          className={classes.radio1}\n        />\n        Folder\n        <Radio\n          checked={type === \"folder\"}\n          onChange={handleChange}\n          value=\"folder\"\n          name=\"pass\"\n          className={classes.radio2}\n        />\n        <div> {renderErrorMessage(\"pass\")}</div>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        Public\n        <Radio\n          checked={inputP === \"false\"}\n          onChange={handleP}\n          value=\"false\"\n          name=\"PorP\"\n          id=\"Choose_Yes\"\n          className={classes.radio1P}\n        />\n        Private\n        <Radio\n          checked={inputP === \"true\"}\n          onChange={handleP}\n          value=\"true\"\n          name=\"PorP\"\n          id=\"Choose_Yes\"\n          className={classes.radio2P}\n        />\n        <div> {renderErrorMessage(\"PorP\")}</div>\n      </div>\n\n      <div className=\"url\" style={{ textAlign: \"center\" }}>\n        <h3>\n          This is your URL:{\" \"}\n          <span style={{ color: \"red\", cursor: \"pointer\" }}>\n            {\" \"}\n            <Link to={newurl} target=\"_blank\">\n              {\" \"}\n              {config.REACT_APP_SERVER_URL + \"/\" + newurl}\n            </Link>{\" \"}\n          </span>{\" \"}\n        </h3>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        <input\n          className=\"inputgetURL\"\n          type=\"text\"\n          name=\"success\"\n          value={text}\n          onChange={inputHandler}\n          style={{ width: \"400px\", height: \"30px\" }}\n          placeholder=\"Enter spacebar to get link \"\n        />\n\n        <div style={{ marginLeft: \"350px\", marginTop: \"-33px\" }}>\n          <button\n            onClick={copy}\n            disabled={!text}\n            style={{\n              background: \"none\",\n              border: \"none\",\n              marginLeft: \"10px\",\n              paddingTop: \"-10px\",\n            }}\n          >\n            <i\n              class=\"bx bx-copy\"\n              variant=\"inherit\"\n              style={{ fontSize: \"30px\", lineHeight: \"20px\" }}\n            ></i>\n          </button>\n        </div>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>{renderErrorMessage(\"success\")}\n            <Table> theadData={theadData} tbodyData={tbodyData}</Table>\n      </div>\n\n            \n      \n    </Helmet>\n  );\n};\n\nexport default Private;\n"]},"metadata":{},"sourceType":"module"}
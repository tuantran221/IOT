{"ast":null,"code":"import _asyncToGenerator from\"/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import{useFormik}from\"formik\";import*as Yup from\"yup\";import Helmet from\"../components/Helmet\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUp=function SignUp(props){var formik=useFormik({initialValues:{username:\"\",password:\"\",confirm_password:\"\"},validationSchema:Yup.object({username:Yup.string().email(\"Invalid email format\").required(\"Required!\"),password:Yup.string().min(8,\"Minimum 8 characters\").required(\"Required!\"),confirm_password:Yup.string().oneOf([Yup.ref(\"password\")],\"Password's not match\").required(\"Required!\")})});var register=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(formik.values.confirm_password===formik.values.password&&formik.errors.username==null)){_context.next=6;break;}_context.next=3;return axios({method:\"post\",url:\"http://localhost:5000/api/users/authendication/register\",data:{username:formik.values.username,password:formik.values.confirm_password}});case 3:token=_context.sent;localStorage.setItem(\"accessToken\",token.data.accessToken);if(token.data.accessToken=true&&formik.errors.username==null){props.history.push(\"/Login\");}case 6:case\"end\":return _context.stop();}}},_callee);}));return function register(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Helmet,{title:\"private SignUp\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Memberships\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"username\",name:\"username\",value:formik.values.username,onChange:formik.handleChange}),formik.errors.username&&formik.touched.username&&/*#__PURE__*/_jsx(\"p\",{children:formik.errors.username})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formik.values.password,onChange:formik.handleChange}),formik.errors.password&&formik.touched.password&&/*#__PURE__*/_jsx(\"p\",{children:formik.errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirm_password\",value:formik.values.confirm_password,onChange:formik.handleChange}),formik.errors.confirm_password&&formik.touched.confirm_password&&/*#__PURE__*/_jsx(\"p\",{children:formik.errors.confirm_password})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return register();},type:\"submit\",children:\"Submit\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(Link,{to:\"/Login\",children:/*#__PURE__*/_jsx(\"i\",{class:\"bx bx-arrow-back\",style:{fontSize:\"40px\"}})})})]});};export default SignUp;","map":{"version":3,"sources":["/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/src/pages/SignUp.jsx"],"names":["React","useFormik","Yup","Helmet","axios","Link","SignUp","props","formik","initialValues","username","password","confirm_password","validationSchema","object","string","email","required","min","oneOf","ref","register","values","errors","method","url","data","token","localStorage","setItem","accessToken","history","push","handleSubmit","handleChange","touched","textAlign","fontSize"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Helmet from \"../components/Helmet\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst SignUp = (props) => {\n  const formik = useFormik({\n    initialValues: {\n      username: \"\",\n      password: \"\",\n      confirm_password: \"\",\n    },\n    validationSchema: Yup.object({\n      username: Yup.string()\n        .email(\"Invalid email format\")\n        .required(\"Required!\"),\n      password: Yup.string()\n        .min(8, \"Minimum 8 characters\")\n        .required(\"Required!\"),\n      confirm_password: Yup.string()\n        .oneOf([Yup.ref(\"password\")], \"Password's not match\")\n        .required(\"Required!\"),\n    }),\n  });\n\n  const register = async () => {\n    if (\n      formik.values.confirm_password === formik.values.password &&\n      formik.errors.username == null\n    ) {\n      let token = await axios({\n        method: \"post\",\n        url: \"http://localhost:5000/api/users/authendication/register\",\n        data: {\n          username: formik.values.username,\n          password: formik.values.confirm_password,\n        },\n      });\n\n      localStorage.setItem(\"accessToken\", token.data.accessToken);\n\n      if ((token.data.accessToken = true && formik.errors.username == null)) {\n        props.history.push(\"/Login\");\n      }\n    }\n  };\n\n  return (\n    <Helmet title=\"private SignUp\">\n      <div className=\"App\">\n        <h1>Memberships</h1>\n\n        <form onSubmit={formik.handleSubmit}>\n          <div>\n            <label>Email</label>\n            <input\n              type=\"username\"\n              name=\"username\"\n              value={formik.values.username}\n              onChange={formik.handleChange}\n            />\n            {formik.errors.username && formik.touched.username && (\n              <p>{formik.errors.username}</p>\n            )}\n          </div>\n          <div>\n            <label>Password</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={formik.values.password}\n              onChange={formik.handleChange}\n            />\n            {formik.errors.password && formik.touched.password && (\n              <p>{formik.errors.password}</p>\n            )}\n          </div>\n          <div>\n            <label>Confirm Password</label>\n            <input\n              type=\"password\"\n              name=\"confirm_password\"\n              value={formik.values.confirm_password}\n              onChange={formik.handleChange}\n            />\n            {formik.errors.confirm_password &&\n              formik.touched.confirm_password && (\n                <p>{formik.errors.confirm_password}</p>\n              )}\n          </div>\n          <div>\n            <button onClick={() => register()} type=\"submit\">\n              Submit\n            </button>\n          </div>\n        </form>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        <Link to=\"/Login\">\n          <i class=\"bx bx-arrow-back\" style={{ fontSize: \"40px\" }}></i>\n        </Link>\n      </div>\n    </Helmet>\n  );\n};\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}
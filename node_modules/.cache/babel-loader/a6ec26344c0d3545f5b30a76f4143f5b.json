{"ast":null,"code":"var _jsxFileName = \"/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/src/pages/Public.jsx\",\n    _s = $RefreshSig$();\n\nimport { IconButton, TextField } from \"@material-ui/core\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"../components/Helmet\";\nimport config from \"../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  inputInput: {\n    minWidth: \"400px\",\n    marginBottom: \"-20px\",\n    border: 0,\n    borderRadius: 20,\n    color: \"white\"\n  },\n  iconee: {\n    fontSize: \"30px\"\n  },\n  radio1: {\n    height: 40,\n    marginRight: 100\n  },\n  radio2: {\n    height: 40\n  }\n}));\n\nconst Public = props => {\n  _s();\n\n  const classes = useStyles(); // using useState to set state foe values\n\n  const [filename, Setname] = useState(\"\");\n  const [type, Settype] = useState(\"file\");\n  const [fileUrl, setfileUrl] = useState(\" \");\n  const [errorMessages, setErrorMessages] = useState({});\n  const errors = {\n    uname: \"Please enter file name\",\n    pass: \"please choose File or Folder\",\n    success: \"successfull copied\"\n  };\n  console.log(\"fileUrl s\", fileUrl);\n\n  const addFrom = async () => {\n    document.getElementById(\"reset\").value = \"\";\n\n    if (filename === \"\") {\n      setErrorMessages({\n        name: \"uname\",\n        message: errors.uname\n      });\n    } else if (type === undefined) {\n      setErrorMessages({\n        name: \"pass\",\n        message: errors.pass\n      });\n    } else {\n      var newform = {\n        name: filename,\n        isPrivate: false,\n        type: type\n      };\n      let Id = await axios({\n        method: \"POST\",\n        url: config.REACT_APP_SERVER_URL + \"/create\",\n        data: newform\n      });\n      Setname(\"\");\n      Settype(\"\");\n\n      if (newform.type === \"file\") {\n        setfileUrl(Id.data.data.ID);\n      } else {\n        setfileUrl(Id.data.data);\n      }\n    }\n\n    console.log(\"form\", newform);\n  };\n\n  const LogIN_page = () => {\n    props.history.push(\"/Login\");\n  };\n\n  const renderErrorMessage = filename => filename === errorMessages.filename && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: errorMessages.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 7\n  }, this);\n\n  const [text, setText] = useState(\"\");\n\n  const inputHandler = () => {\n    setText(config.REACT_APP_SERVER_URL + \"/\" + fileUrl);\n    console.log(\"text\", text);\n  };\n\n  const copy = async () => {\n    await navigator.clipboard.writeText(text);\n    setErrorMessages({\n      name: \"success\",\n      message: errors.success\n    });\n  };\n\n  const handleChange = event => {\n    Settype(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Helmet, {\n    title: \"Public page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Login\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button_login\",\n        onClick: () => LogIN_page(),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bx bx-user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"-20px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../images/logo1.png\",\n        style: {\n          height: \"150px\",\n          width: \"200px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formaddtext\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.inputInput,\n          fullWidth: true,\n          id: \"reset\",\n          type: \"text\",\n          onChange: e => Setname(e.target.value),\n          name: \"uname\",\n          variant: \"outlined\",\n          placeholder: \"Create File/Folder\",\n          InputProps: {\n            style: {\n              borderRadius: 100,\n              paddingLeft: \"50px\",\n              fontSize: 15\n            },\n            endAdornment: /*#__PURE__*/_jsxDEV(IconButton, {\n              children: /*#__PURE__*/_jsxDEV(SearchOutlined, {\n                className: classes.iconee,\n                onClick: () => addFrom()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), renderErrorMessage(\"uname\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [\"File\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: type === \"file\",\n        onChange: handleChange,\n        value: \"file\",\n        name: \"pass\",\n        defaultValue: type,\n        className: classes.radio1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), \"Folder\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: type === \"folder\",\n        onChange: handleChange,\n        value: \"folder\",\n        name: \"pass\",\n        className: classes.radio2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", renderErrorMessage(\"pass\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"inputgetURL\",\n        type: \"text\",\n        name: \"success\",\n        value: text,\n        onChange: inputHandler,\n        style: {\n          width: \"400px\",\n          height: \"30px\"\n        },\n        placeholder: \"Enter spacebar to get link \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"350px\",\n          marginTop: \"-33px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: copy,\n          disabled: !text,\n          style: {\n            background: \"none\",\n            border: \"none\",\n            marginLeft: \"10px\",\n            paddingTop: \"-10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"bx bx-copy\",\n            variant: \"inherit\",\n            style: {\n              fontSize: \"30px\",\n              lineHeight: \"20px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: renderErrorMessage(\"success\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Public, \"2jckO0sGWhJN8RFY3pP8DsE55WM=\", false, function () {\n  return [useStyles];\n});\n\n_c = Public;\nexport default Public;\n\nvar _c;\n\n$RefreshReg$(_c, \"Public\");","map":{"version":3,"sources":["/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/src/pages/Public.jsx"],"names":["IconButton","TextField","Radio","makeStyles","SearchOutlined","axios","React","useState","Link","Helmet","config","useStyles","inputInput","minWidth","marginBottom","border","borderRadius","color","iconee","fontSize","radio1","height","marginRight","radio2","Public","props","classes","filename","Setname","type","Settype","fileUrl","setfileUrl","errorMessages","setErrorMessages","errors","uname","pass","success","console","log","addFrom","document","getElementById","value","name","message","undefined","newform","isPrivate","Id","method","url","REACT_APP_SERVER_URL","data","ID","LogIN_page","history","push","renderErrorMessage","text","setText","inputHandler","copy","navigator","clipboard","writeText","handleChange","event","target","textAlign","width","e","style","paddingLeft","endAdornment","marginLeft","marginTop","background","paddingTop","lineHeight"],"mappings":"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","sourcesContent":["import { IconButton, TextField } from \"@material-ui/core\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"../components/Helmet\";\nimport config from \"../config\";\nconst useStyles = makeStyles(() => ({\n  inputInput: {\n    minWidth: \"400px\",\n    marginBottom: \"-20px\",\n\n    border: 0,\n    borderRadius: 20,\n    color: \"white\",\n  },\n  iconee: {\n    fontSize: \"30px\",\n  },\n  radio1: {\n    height: 40,\n    marginRight: 100,\n  },\n  radio2: {\n    height: 40,\n  },\n}));\n\nconst Public = (props) => {\n  const classes = useStyles();\n  // using useState to set state foe values\n  const [filename, Setname] = useState(\"\");\n  const [type, Settype] = useState(\"file\");\n  const [fileUrl, setfileUrl] = useState(\" \");\n  const [errorMessages, setErrorMessages] = useState({});\n\n  const errors = {\n    uname: \"Please enter file name\",\n    pass: \"please choose File or Folder\",\n    success: \"successfull copied\",\n  };\n  console.log(\"fileUrl s\", fileUrl);\n  const addFrom = async () => {\n    document.getElementById(\"reset\").value = \"\";\n\n    if (filename === \"\") {\n      setErrorMessages({ name: \"uname\", message: errors.uname });\n    } else if (type === undefined) {\n      setErrorMessages({ name: \"pass\", message: errors.pass });\n    } else {\n      var newform = {\n        name: filename,\n        isPrivate: false,\n        type: type,\n      };\n      let Id = await axios({\n        method: \"POST\",\n        url: config.REACT_APP_SERVER_URL + \"/create\",\n        data: newform,\n      });\n      Setname(\"\");\n      Settype(\"\");\n      if (newform.type === \"file\") {\n        setfileUrl(Id.data.data.ID);\n      } else {\n        setfileUrl(Id.data.data);\n      }\n    }\n    console.log(\"form\", newform);\n  };\n\n  const LogIN_page = () => {\n    props.history.push(\"/Login\");\n  };\n\n  const renderErrorMessage = (filename) =>\n    filename === errorMessages.filename && (\n      <div className=\"error\">{errorMessages.message}</div>\n    );\n\n  const [text, setText] = useState(\"\");\n  \n\n  const inputHandler = () => {\n    setText(config.REACT_APP_SERVER_URL + \"/\" + fileUrl);\n    console.log(\"text\", text)\n  };\n\n  const copy = async () => {\n    await navigator.clipboard.writeText(text);\n\n    setErrorMessages({ name: \"success\", message: errors.success });\n  };\n\n  const handleChange = (event) => {\n    Settype(event.target.value);\n  };\n\n  return (\n    <Helmet title=\"Public page\">\n      <div className=\"Login\">\n        <button className=\"button_login\" onClick={() => LogIN_page()}>\n          <i className=\"bx bx-user\"></i>\n        </button>\n      </div>\n\n      <div style={{ textAlign: \"center\", marginBottom: \"-20px\" }}>\n        <img\n          src=\"../images/logo1.png\"\n          style={{ height: \"150px\", width: \"200px\" }}\n        />\n      </div>\n\n      <div className=\"formaddtext\">\n        <div>\n          <TextField\n            className={classes.inputInput}\n            fullWidth\n            id=\"reset\"\n            type=\"text\"\n            onChange={(e) => Setname(e.target.value)}\n            name=\"uname\"\n            variant=\"outlined\"\n            placeholder=\"Create File/Folder\"\n            InputProps={{\n              style: {\n                borderRadius: 100,\n                paddingLeft: \"50px\",\n\n                fontSize: 15,\n              },\n\n              endAdornment: (\n                <IconButton>\n                  <SearchOutlined\n                    className={classes.iconee}\n                    onClick={() => addFrom()}\n                  />\n                </IconButton>\n              ),\n            }}\n          />\n          {renderErrorMessage(\"uname\")}\n        </div>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        File\n        <Radio\n          checked={type === \"file\"}\n          onChange={handleChange}\n          value=\"file\"\n          name=\"pass\"\n          defaultValue={type}\n          className={classes.radio1}\n        />\n        Folder\n        <Radio\n          checked={type === \"folder\"}\n          onChange={handleChange}\n          value=\"folder\"\n          name=\"pass\"\n          className={classes.radio2}\n        />\n        <div> {renderErrorMessage(\"pass\")}</div>\n      </div>\n\n      {/* <div className=\"url\" style={{ textAlign: \"center\" }}>\n        <h3>\n          This is your URL:{\" \"}\n          <span style={{ color: \"red\", cursor: \"pointer\" }}>\n            {\" \"}\n            <Link to={fileUrl} target=\"_blank\">\n              {\" \"}\n              {config.REACT_APP_SERVER_URL + \"/\" + fileUrl}\n            </Link>{\" \"}\n          </span>{\" \"}\n        </h3>\n      </div> */}\n\n      <div style={{ textAlign: \"center\" }}>\n        <input\n          className=\"inputgetURL\"\n          type=\"text\"\n          name=\"success\"\n          value={text}\n          onChange={inputHandler}\n          style={{ width: \"400px\", height: \"30px\" }}\n          placeholder=\"Enter spacebar to get link \"\n        />\n\n        <div style={{ marginLeft: \"350px\", marginTop: \"-33px\" }}>\n          <button\n            onClick={copy}\n            disabled={!text}\n            style={{\n              background: \"none\",\n              border: \"none\",\n              marginLeft: \"10px\",\n              paddingTop: \"-10px\",\n            }}\n          >\n            <i\n              class=\"bx bx-copy\"\n              variant=\"inherit\"\n              style={{ fontSize: \"30px\", lineHeight: \"20px\" }}\n            ></i>\n          </button>\n        </div>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>{renderErrorMessage(\"success\")}</div>\n    </Helmet>\n  );\n};\n\nexport default Public;\n"]},"metadata":{},"sourceType":"module"}
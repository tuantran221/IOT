{"ast":null,"code":"var _jsxFileName = \"/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/src/pages/Private.jsx\",\n    _s = $RefreshSig$();\n\nimport { IconButton, TextField } from \"@material-ui/core\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AddToPhotosOutlined } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"../components/Helmet\";\nimport config from \"../config\";\nimport Table from \"../components/Table\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  inputInput: {\n    minWidth: \"400px\",\n    marginBottom: \"-20px\",\n    border: 0,\n    borderRadius: 20,\n    color: \"white\"\n  },\n  iconee: {\n    fontSize: \"30px\"\n  },\n  radio1: {\n    height: 40,\n    marginRight: 100,\n    marginLeft: \"10px\"\n  },\n  radio2: {\n    height: 40\n  },\n  radio1P: {\n    height: 40,\n    marginRight: 100\n  },\n  radio2P: {\n    height: 40,\n    marginLeft: \"-5px\"\n  }\n}));\n\nconst Private = props => {\n  _s();\n\n  const classes = useStyles(); // using useState to set state foe values\n\n  const [filename, Setname] = useState(\"\");\n  const [type, Settype] = useState(\"file\");\n  const [inputP, setInputP] = useState(\"false\");\n  const [newurl, setNewurl] = useState(\"...\");\n  const [text, setText] = useState(\"\");\n  const [errorMessages, setErrorMessages] = useState({});\n  const errors = {\n    uname: \"Please enter file name\",\n    pass: \"please choose File or Folder\",\n    PorP: \"please choose Public or Private\",\n    success: \"successfull copied\"\n  }; // -------------------- function to post form to api\n\n  const addForm = async () => {\n    document.getElementById(\"reset\").value = \"\";\n    document.getElementById(\"Choose_Yes\").checked = false;\n\n    if (filename === \"\") {\n      setErrorMessages({\n        name: \"uname\",\n        message: errors.uname\n      });\n    } else if (type === undefined || type === \"\") {\n      setErrorMessages({\n        name: \"pass\",\n        message: errors.pass\n      });\n    } else if (inputP === undefined) {\n      setErrorMessages({\n        name: \"PorP\",\n        message: errors.PorP\n      });\n    } else {\n      let token = localStorage.getItem(\"accessToken\"); // console.log(\"token\", token);\n\n      var newform = {\n        name: filename,\n        isPrivate: inputP,\n        type: type\n      };\n      let Id = await axios({\n        method: \"POST\",\n        url: config.REACT_APP_SERVER_URL + \"/create\",\n        data: newform,\n        headers: {\n          authorization: \"token: \" + token\n        }\n      });\n      Setname(\"\");\n      Settype(\"\");\n\n      if (newform.type === \"file\") {\n        setNewurl(Id.data.data.ID);\n      } else {\n        setNewurl(Id.data.data.ID);\n      }\n    }\n  }; // ----------------------- fucntion control error client\n\n\n  const renderErrorMessage = filename => filename === errorMessages.filename && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: errorMessages.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 7\n  }, this); //  function to show url in input box\n\n\n  const inputHandler = () => {\n    setText(config.REACT_APP_SERVER_URL + \"/\" + newurl);\n  }; // --------------funtion to coppy text in input box\n\n\n  const copy = async () => {\n    await navigator.clipboard.writeText(text);\n    setErrorMessages({\n      name: \"success\",\n      message: errors.success\n    });\n  }; // --------------------------------- call api data table\n\n\n  const theadData = [\"Name\", \"Size\", \"Date\", \"Download\"];\n  const [fileData, setfileData] = useState(\"\");\n  console.log(\"fileData\", fileData);\n  let token = localStorage.getItem(\"accessToken\");\n  console.log(\"token\", token); // --------------------------------- set value to get data from api\n  // useEffect(() => {\n  //   const fetchProducts = async () => {\n  //     const respone = await axios({\n  //       method: \"get\",\n  //       url: config.REACT_APP_SERVER_URL + \"/all\",\n  //       headers: { authorization: \"token: \" + token },\n  //     });\n  //     setfileData(respone.data.data.files);\n  //   };\n  //   fetchProducts();\n  //   console.log(\"respone\")\n  // }, [token]);\n\n  const showtable = async () => {}; // -------------------------- function to logout\n\n\n  const Logout_page = () => {\n    props.history.push(\"/\");\n  };\n\n  const handleChange = event => {\n    Settype(event.target.value);\n  };\n\n  const handleP = e => {\n    setInputP(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Helmet, {\n    title: \"Public page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"-20px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../images/logo1.png\",\n        style: {\n          height: \"150px\",\n          width: \"200px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formaddtext\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.inputInput,\n          fullWidth: true,\n          id: \"reset\",\n          type: \"text\",\n          onChange: e => Setname(e.target.value),\n          name: \"uname\",\n          variant: \"outlined\",\n          placeholder: \"Create File/Folder\",\n          InputProps: {\n            style: {\n              borderRadius: 100,\n              paddingLeft: \"50px\",\n              fontSize: 15\n            },\n            endAdornment: /*#__PURE__*/_jsxDEV(IconButton, {\n              children: /*#__PURE__*/_jsxDEV(AddToPhotosOutlined, {\n                className: classes.iconee,\n                onClick: () => addForm()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), renderErrorMessage(\"uname\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Logout\",\n        style: {\n          textAlign: \"right\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button_new\",\n          style: {\n            marginTop: \"50px\",\n            marginBottom: \"50px\"\n          },\n          onClick: () => Logout_page(),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"bx bx-log-out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [\"File\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: type === \"file\",\n        onChange: handleChange,\n        value: \"file\",\n        name: \"pass\",\n        className: classes.radio1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), \"Folder\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: type === \"folder\",\n        onChange: handleChange,\n        value: \"folder\",\n        name: \"pass\",\n        className: classes.radio2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", renderErrorMessage(\"pass\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [\"Public\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: inputP === \"false\",\n        onChange: handleP,\n        value: \"false\",\n        name: \"PorP\",\n        id: \"Choose_Yes\",\n        className: classes.radio1P\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), \"Private\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: inputP === \"true\",\n        onChange: handleP,\n        value: \"true\",\n        name: \"PorP\",\n        id: \"Choose_Yes\",\n        className: classes.radio2P\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", renderErrorMessage(\"PorP\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"url\",\n      style: {\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"This is your URL:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"red\",\n            cursor: \"pointer\"\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n            to: newurl,\n            target: \"_blank\",\n            children: [\" \", config.REACT_APP_SERVER_URL + \"/\" + newurl]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"inputgetURL\",\n        type: \"text\",\n        name: \"success\",\n        value: text,\n        onChange: inputHandler,\n        style: {\n          width: \"400px\",\n          height: \"30px\"\n        },\n        placeholder: \"Enter spacebar to get link \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"350px\",\n          marginTop: \"-33px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: copy,\n          disabled: !text,\n          style: {\n            background: \"none\",\n            border: \"none\",\n            marginLeft: \"10px\",\n            paddingTop: \"-10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"bx bx-copy\",\n            variant: \"inherit\",\n            style: {\n              fontSize: \"30px\",\n              lineHeight: \"20px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        theadData: theadData,\n        tbodyData: fileData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Private, \"0HXDV9v5ABvQHDwCAbvaP6UqY9M=\", false, function () {\n  return [useStyles];\n});\n\n_c = Private;\nexport default Private;\n\nvar _c;\n\n$RefreshReg$(_c, \"Private\");","map":{"version":3,"sources":["/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/src/pages/Private.jsx"],"names":["IconButton","TextField","Radio","makeStyles","AddToPhotosOutlined","axios","React","useState","useEffect","Link","Helmet","config","Table","useStyles","inputInput","minWidth","marginBottom","border","borderRadius","color","iconee","fontSize","radio1","height","marginRight","marginLeft","radio2","radio1P","radio2P","Private","props","classes","filename","Setname","type","Settype","inputP","setInputP","newurl","setNewurl","text","setText","errorMessages","setErrorMessages","errors","uname","pass","PorP","success","addForm","document","getElementById","value","checked","name","message","undefined","token","localStorage","getItem","newform","isPrivate","Id","method","url","REACT_APP_SERVER_URL","data","headers","authorization","ID","renderErrorMessage","inputHandler","copy","navigator","clipboard","writeText","theadData","fileData","setfileData","console","log","showtable","Logout_page","history","push","handleChange","event","target","handleP","e","textAlign","width","style","paddingLeft","endAdornment","marginTop","cursor","background","paddingTop","lineHeight"],"mappings":"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","sourcesContent":["import { IconButton, TextField } from \"@material-ui/core\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {  AddToPhotosOutlined } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"../components/Helmet\";\nimport config from \"../config\";\nimport Table from \"../components/Table\";\n\nconst useStyles = makeStyles(() => ({\n  inputInput: {\n    minWidth: \"400px\",\n    marginBottom: \"-20px\",\n\n    border: 0,\n    borderRadius: 20,\n    color: \"white\",\n  },\n  iconee: {\n    fontSize: \"30px\",\n  },\n  radio1: {\n    height: 40,\n    marginRight: 100,\n    marginLeft: \"10px\",\n  },\n  radio2: {\n    height: 40,\n  },\n  radio1P: {\n    height: 40,\n    marginRight: 100,\n  },\n  radio2P: {\n    height: 40,\n    marginLeft: \"-5px\",\n  },\n}));\n\nconst Private = (props) => {\n  const classes = useStyles();\n  // using useState to set state foe values\n  const [filename, Setname] = useState(\"\");\n  const [type, Settype] = useState(\"file\");\n  const [inputP, setInputP] = useState(\"false\");\n\n  const [newurl, setNewurl] = useState(\"...\");\n  const [text, setText] = useState(\"\");\n  const [errorMessages, setErrorMessages] = useState({});\n\n  const errors = {\n    uname: \"Please enter file name\",\n    pass: \"please choose File or Folder\",\n    PorP: \"please choose Public or Private\",\n    success: \"successfull copied\",\n  };\n  // -------------------- function to post form to api\n  const addForm = async () => {\n    document.getElementById(\"reset\").value = \"\";\n    document.getElementById(\"Choose_Yes\").checked = false;\n\n    if (filename === \"\") {\n      setErrorMessages({ name: \"uname\", message: errors.uname });\n    } else if (type === undefined || type === \"\") {\n      setErrorMessages({ name: \"pass\", message: errors.pass });\n    } else if (inputP === undefined) {\n      setErrorMessages({ name: \"PorP\", message: errors.PorP });\n    } else {\n      let token = localStorage.getItem(\"accessToken\");\n      // console.log(\"token\", token);\n      var newform = {\n        name: filename,\n        isPrivate: inputP,\n        type: type,\n      };\n      let Id = await axios({\n        method: \"POST\",\n        url: config.REACT_APP_SERVER_URL + \"/create\",\n        data: newform,\n        headers: {\n          authorization: \"token: \" + token,\n        },\n      });\n      Setname(\"\");\n      Settype(\"\");\n      if (newform.type === \"file\") {\n        setNewurl(Id.data.data.ID);\n      } else {\n        setNewurl(Id.data.data.ID);\n      }\n    }\n  };\n  // ----------------------- fucntion control error client\n  const renderErrorMessage = (filename) =>\n    filename === errorMessages.filename && (\n      <div className=\"error\">{errorMessages.message}</div>\n    );\n\n  //  function to show url in input box\n\n  const inputHandler = () => {\n    setText(config.REACT_APP_SERVER_URL + \"/\" + newurl);\n  };\n  // --------------funtion to coppy text in input box\n  const copy = async () => {\n    await navigator.clipboard.writeText(text);\n\n    setErrorMessages({ name: \"success\", message: errors.success });\n  };\n\n  // --------------------------------- call api data table\n  const theadData = [\"Name\", \"Size\", \"Date\", \"Download\"];\n  const [fileData, setfileData] = useState(\"\");\n  console.log(\"fileData\", fileData);\n\n  let token = localStorage.getItem(\"accessToken\");\n  console.log(\"token\", token);\n  // --------------------------------- set value to get data from api\n  // useEffect(() => {\n  //   const fetchProducts = async () => {\n  //     const respone = await axios({\n  //       method: \"get\",\n  //       url: config.REACT_APP_SERVER_URL + \"/all\",\n  //       headers: { authorization: \"token: \" + token },\n  //     });\n  //     setfileData(respone.data.data.files);\n  //   };\n  //   fetchProducts();\n  //   console.log(\"respone\")\n  // }, [token]);\n  const showtable = async() =>{\n\n  }\n  // -------------------------- function to logout\n  const Logout_page = () => {\n    props.history.push(\"/\");\n  };\n\n  const handleChange = (event) => {\n    Settype(event.target.value);\n  };\n\n  const handleP = (e) => {\n    setInputP(e.target.value);\n  };\n\n  return (\n    <Helmet title=\"Public page\">\n      <div style={{ textAlign: \"center\", marginBottom: \"-20px\" }}>\n        <img\n          src=\"../images/logo1.png\"\n          style={{ height: \"150px\", width: \"200px\" }}\n        />\n      </div>\n\n      <div className=\"formaddtext\">\n        <div>\n          <TextField\n            className={classes.inputInput}\n            fullWidth\n            id=\"reset\"\n            type=\"text\"\n            onChange={(e) => Setname(e.target.value)}\n            name=\"uname\"\n            variant=\"outlined\"\n            placeholder=\"Create File/Folder\"\n            InputProps={{\n              style: {\n                borderRadius: 100,\n                paddingLeft: \"50px\",\n\n                fontSize: 15,\n              },\n\n              endAdornment: (\n                <IconButton>\n                  <AddToPhotosOutlined\n                    className={classes.iconee}\n                    onClick={() => addForm()}\n                  />\n                </IconButton>\n              ),\n            }}\n          />\n          {renderErrorMessage(\"uname\")}\n        </div>\n      </div>\n\n      <section>\n        <div className=\"Logout\" style={{ textAlign: \"right\" }}>\n          <button\n            className=\"button_new\"\n            style={{ marginTop: \"50px\", marginBottom: \"50px\" }}\n            onClick={() => Logout_page()}\n          >\n            <i class=\"bx bx-log-out\"></i>\n          </button>\n        </div>\n      </section>\n      <div></div>\n\n      <div style={{ textAlign: \"center\" }}>\n        File\n        <Radio\n          checked={type === \"file\"}\n          onChange={handleChange}\n          value=\"file\"\n          name=\"pass\"\n          className={classes.radio1}\n        />\n        Folder\n        <Radio\n          checked={type === \"folder\"}\n          onChange={handleChange}\n          value=\"folder\"\n          name=\"pass\"\n          className={classes.radio2}\n        />\n        <div> {renderErrorMessage(\"pass\")}</div>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        Public\n        <Radio\n          checked={inputP === \"false\"}\n          onChange={handleP}\n          value=\"false\"\n          name=\"PorP\"\n          id=\"Choose_Yes\"\n          className={classes.radio1P}\n        />\n        Private\n        <Radio\n          checked={inputP === \"true\"}\n          onChange={handleP}\n          value=\"true\"\n          name=\"PorP\"\n          id=\"Choose_Yes\"\n          className={classes.radio2P}\n        />\n        <div> {renderErrorMessage(\"PorP\")}</div>\n      </div>\n\n      <div className=\"url\" style={{ textAlign: \"center\" }}>\n        <h3>\n          This is your URL:{\" \"}\n          <span style={{ color: \"red\", cursor: \"pointer\" }}>\n            {\" \"}\n            <Link to={newurl} target=\"_blank\">\n              {\" \"}\n              {config.REACT_APP_SERVER_URL + \"/\" + newurl}\n            </Link>{\" \"}\n          </span>{\" \"}\n        </h3>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        <input\n          className=\"inputgetURL\"\n          type=\"text\"\n          name=\"success\"\n          value={text}\n          onChange={inputHandler}\n          style={{ width: \"400px\", height: \"30px\" }}\n          placeholder=\"Enter spacebar to get link \"\n        />\n\n        <div style={{ marginLeft: \"350px\", marginTop: \"-33px\" }}>\n          <button\n            onClick={copy}\n            disabled={!text}\n            style={{\n              background: \"none\",\n              border: \"none\",\n              marginLeft: \"10px\",\n              paddingTop: \"-10px\",\n            }}\n          >\n            <i\n              class=\"bx bx-copy\"\n              variant=\"inherit\"\n              style={{ fontSize: \"30px\", lineHeight: \"20px\" }}\n            ></i>\n          </button>\n        </div>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        <Table theadData={theadData} tbodyData={fileData} />\n      </div>\n    </Helmet>\n  );\n};\n\nexport default Private;\n"]},"metadata":{},"sourceType":"module"}
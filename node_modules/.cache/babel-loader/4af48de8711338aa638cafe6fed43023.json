{"ast":null,"code":"var _jsxFileName = \"/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/src/pages/Private.jsx\",\n    _s = $RefreshSig$();\n\nimport { IconButton, TextField } from \"@material-ui/core\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { nanoid } from \"nanoid\";\nimport { default as React, useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"../components/Helmet\";\nimport dataPV from \"../components/Private_data.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  inputInput: {\n    minWidth: \"400px\",\n    marginBottom: \"-20px\",\n    border: 0,\n    borderRadius: 20,\n    color: \"white\"\n  },\n  iconee: {\n    fontSize: \"30px\"\n  },\n  radio1: {\n    height: 40,\n    marginRight: 100,\n    marginLeft: \"10px\"\n  },\n  radio2: {\n    height: 40\n  },\n  radio1P: {\n    height: 40,\n    marginRight: 100\n  },\n  radio2P: {\n    height: 40,\n    marginLeft: \"-5px\"\n  }\n}));\n\nconst Private = props => {\n  _s();\n\n  const classes = useStyles(); // using useState to set state foe values\n\n  const [name, Setname] = useState(\"\");\n  const [type, Settype] = useState(\"file\");\n  const [inputP, setInputP] = useState(\"false\");\n  const [newurl, setNewurl] = useState(\"...\");\n  const [errorMessages, setErrorMessages] = useState({});\n  const errors = {\n    uname: \"Please enter file name\",\n    pass: \"please choose File or Folder\",\n    PorP: \"please choose Public or Private\",\n    success: \"successfull copied\"\n  };\n\n  const addForm = async () => {\n    document.getElementById(\"reset\").value = \"\";\n    document.getElementById(\"Choose_Yes\").checked = false;\n\n    if (name === \"\") {\n      setErrorMessages({\n        name: \"uname\",\n        message: errors.uname\n      });\n    } else if (type === undefined || type === \"\") {\n      setErrorMessages({\n        name: \"pass\",\n        message: errors.pass\n      });\n    } else if (inputP === undefined) {\n      setErrorMessages({\n        name: \"PorP\",\n        message: errors.PorP\n      });\n    } else {\n      var newform = {\n        filename: name,\n        isPrivate: inputP,\n        type: type\n      };\n      let Id = await axios({\n        method: \"POST\",\n        url: \"http://localhost:3000/api/create/\",\n        data: newform\n      });\n      Setname(\"\");\n      Settype(\"\");\n      console.log(\"form\", newform);\n      setNewurl(Id.data.data.fileId);\n      console.log(\"url\", Id.data.data);\n      console.log(\"url\", Id.data.data);\n    }\n  };\n\n  const renderErrorMessage = name => name === errorMessages.name && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: errorMessages.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 7\n  }, this);\n\n  const [text, setText] = useState(\"\");\n\n  const inputHandler = () => {\n    setText(\"http://localhost:5000/\" + newurl);\n  };\n\n  const copy = async () => {\n    await navigator.clipboard.writeText(text);\n    setErrorMessages({\n      name: \"success\",\n      message: errors.success\n    });\n  };\n\n  const [contacts, setContacts] = useState(dataPV);\n  const [addFormData, setAddFormData] = useState({\n    Name: \"\",\n    Size: \"\",\n    Dates: \"\",\n    Download: \"\"\n  });\n\n  const handleAddFormChange = event => {\n    event.preventDefault();\n    const fieldName = event.target.getAttribute(\"name\");\n    const fieldValue = event.target.value;\n    const newFormData = { ...addFormData\n    };\n    newFormData[fieldName] = fieldValue;\n    setAddFormData(newFormData);\n  };\n\n  const handleAddFormSubmit = event => {\n    event.preventDefault();\n    const newContact = {\n      id: nanoid(),\n      Name: addFormData.Name,\n      Size: addFormData.Size,\n      Dates: addFormData.Dates,\n      Download: addFormData.Download\n    };\n    const newContacts = [...contacts, newContact];\n    setContacts(newContacts);\n  };\n\n  const handleDeleteClick = contactId => {\n    const newContacts = [...contacts];\n    const index = contacts.findIndex(contact => contact.id === contactId);\n    newContacts.splice(index, 1);\n    setContacts(newContacts);\n  };\n\n  const Logout_page = () => {\n    props.history.push(\"/\");\n  };\n\n  const handleChange = event => {\n    Settype(event.target.value);\n  };\n\n  const handleP = e => {\n    setInputP(e.target.value);\n  };\n\n  console.log(\"inputfile\", type);\n  return /*#__PURE__*/_jsxDEV(Helmet, {\n    title: \"Public page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginBottom: \"-20px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"../images/logo_TTU.png\",\n        style: {\n          height: \"150px\",\n          width: \"130px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formaddtext\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: classes.inputInput,\n          fullWidth: true,\n          id: \"reset\",\n          type: \"text\",\n          onChange: e => Setname(e.target.value),\n          name: \"uname\",\n          variant: \"outlined\",\n          placeholder: \"Create File/Folder\",\n          InputProps: {\n            style: {\n              borderRadius: 100,\n              paddingLeft: \"50px\",\n              fontSize: 15\n            },\n            endAdornment: /*#__PURE__*/_jsxDEV(IconButton, {\n              children: /*#__PURE__*/_jsxDEV(SearchOutlined, {\n                className: classes.iconee,\n                onClick: () => addForm()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), renderErrorMessage(\"uname\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Logout\",\n        style: {\n          textAlign: \"right\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button_new\",\n          style: {\n            marginTop: \"50px\",\n            marginBottom: \"50px\"\n          },\n          onClick: () => Logout_page(),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"bx bx-log-out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [\"File\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: type === \"file\",\n        onChange: handleChange,\n        value: \"file\",\n        name: \"pass\",\n        className: classes.radio1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), \"Folder\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: type === \"folder\",\n        onChange: handleChange,\n        value: \"folder\",\n        name: \"pass\",\n        className: classes.radio2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", renderErrorMessage(\"pass\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [\"Public\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: inputP === \"false\",\n        onChange: handleP,\n        value: \"false\",\n        name: \"PorP\",\n        id: \"Choose_Yes\",\n        className: classes.radio1P\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), \"Private\", /*#__PURE__*/_jsxDEV(Radio, {\n        checked: inputP === \"true\",\n        onChange: handleP,\n        value: \"true\",\n        name: \"PorP\",\n        id: \"Choose_Yes\",\n        className: classes.radio2P\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", renderErrorMessage(\"PorP\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"url\",\n      style: {\n        textAlign: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"This is your URL:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"red\",\n            cursor: \"pointer\"\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n            to: newurl,\n            target: \"_blank\",\n            children: [\" \", \"http://localhost:5000/\" + newurl]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"inputgetURL\",\n        type: \"text\",\n        name: \"success\",\n        value: text,\n        onChange: inputHandler,\n        style: {\n          width: \"400px\",\n          height: \"30px\"\n        },\n        placeholder: \"Enter spacebar to get link \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"350px\",\n          marginTop: \"-33px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: copy,\n          disabled: !text,\n          style: {\n            background: \"none\",\n            border: \"none\",\n            marginLeft: \"10px\",\n            paddingTop: \"-10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"bx bx-copy\",\n            variant: \"inherit\",\n            style: {\n              fontSize: \"30px\",\n              lineHeight: \"20px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: renderErrorMessage(\"success\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Private, \"QBrXPE2bfJYteINEE0JqP1KDyPQ=\", false, function () {\n  return [useStyles];\n});\n\n_c = Private;\nexport default Private;\n\nvar _c;\n\n$RefreshReg$(_c, \"Private\");","map":{"version":3,"sources":["/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/src/pages/Private.jsx"],"names":["IconButton","TextField","Radio","makeStyles","SearchOutlined","axios","nanoid","default","React","useState","useEffect","Link","Helmet","dataPV","useStyles","inputInput","minWidth","marginBottom","border","borderRadius","color","iconee","fontSize","radio1","height","marginRight","marginLeft","radio2","radio1P","radio2P","Private","props","classes","name","Setname","type","Settype","inputP","setInputP","newurl","setNewurl","errorMessages","setErrorMessages","errors","uname","pass","PorP","success","addForm","document","getElementById","value","checked","message","undefined","newform","filename","isPrivate","Id","method","url","data","console","log","fileId","renderErrorMessage","text","setText","inputHandler","copy","navigator","clipboard","writeText","contacts","setContacts","addFormData","setAddFormData","Name","Size","Dates","Download","handleAddFormChange","event","preventDefault","fieldName","target","getAttribute","fieldValue","newFormData","handleAddFormSubmit","newContact","id","newContacts","handleDeleteClick","contactId","index","findIndex","contact","splice","Logout_page","history","push","handleChange","handleP","e","textAlign","width","style","paddingLeft","endAdornment","marginTop","cursor","background","paddingTop","lineHeight"],"mappings":"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","sourcesContent":["import { IconButton, TextField } from \"@material-ui/core\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { nanoid } from \"nanoid\";\nimport { default as React, useState, useEffect} from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"../components/Helmet\";\nimport dataPV from \"../components/Private_data.json\";\n\nconst useStyles = makeStyles(() => ({\n  inputInput: {\n    minWidth: \"400px\",\n    marginBottom: \"-20px\",\n\n    border: 0,\n    borderRadius: 20,\n    color: \"white\",\n  },\n  iconee: {\n    fontSize: \"30px\",\n  },\n  radio1: {\n    height: 40,\n    marginRight: 100,\n    marginLeft: \"10px\",\n  },\n  radio2: {\n    height: 40,\n  },\n  radio1P: {\n    height: 40,\n    marginRight: 100,\n  },\n  radio2P: {\n    height: 40,\n    marginLeft: \"-5px\",\n  },\n}));\n\nconst Private = (props) => {\n  const classes = useStyles();\n  // using useState to set state foe values\n  const [name, Setname] = useState(\"\");\n  const [type, Settype] = useState(\"file\");\n  const [inputP, setInputP] = useState(\"false\");\n\n  const [newurl, setNewurl] = useState(\"...\");\n\n  const [errorMessages, setErrorMessages] = useState({});\n\n  const errors = {\n    uname: \"Please enter file name\",\n    pass: \"please choose File or Folder\",\n    PorP: \"please choose Public or Private\",\n    success: \"successfull copied\",\n  };\n\n  const addForm = async () => {\n    document.getElementById(\"reset\").value = \"\";\n    document.getElementById(\"Choose_Yes\").checked = false;\n\n    if (name === \"\") {\n      setErrorMessages({ name: \"uname\", message: errors.uname });\n    } else if (type === undefined || type === \"\") {\n      setErrorMessages({ name: \"pass\", message: errors.pass });\n    } else if (inputP === undefined) {\n      setErrorMessages({ name: \"PorP\", message: errors.PorP });\n    } else {\n      \n      var newform = {\n        filename: name,\n        isPrivate: inputP,\n        type: type,\n      };\n      let Id = await axios({\n        method: \"POST\",\n        url: \"http://localhost:3000/api/create/\",\n        data: newform,\n      });\n      Setname(\"\");\n      Settype(\"\");\n      console.log(\"form\", newform);\n      setNewurl(Id.data.data.fileId);\n      console.log(\"url\", Id.data.data);\n      console.log(\"url\", Id.data.data);\n    }\n     \n    }\n  \n\n\n      \n    \n\n  const renderErrorMessage = (name) =>\n    name === errorMessages.name && (\n      <div className=\"error\">{errorMessages.message}</div>\n    );\n\n  const [text, setText] = useState(\"\");\n\n  const inputHandler = () => {\n    setText(\"http://localhost:5000/\" + newurl);\n  };\n\n  const copy = async () => {\n    await navigator.clipboard.writeText(text);\n\n    setErrorMessages({ name: \"success\", message: errors.success });\n  };\n\n  const [contacts, setContacts] = useState(dataPV);\n  const [addFormData, setAddFormData] = useState({\n    Name: \"\",\n    Size: \"\",\n    Dates: \"\",\n    Download: \"\",\n  });\n\n  const handleAddFormChange = (event) => {\n    event.preventDefault();\n\n    const fieldName = event.target.getAttribute(\"name\");\n    const fieldValue = event.target.value;\n\n    const newFormData = { ...addFormData };\n    newFormData[fieldName] = fieldValue;\n\n    setAddFormData(newFormData);\n  };\n\n  const handleAddFormSubmit = (event) => {\n    event.preventDefault();\n\n    const newContact = {\n      id: nanoid(),\n      Name: addFormData.Name,\n      Size: addFormData.Size,\n      Dates: addFormData.Dates,\n      Download: addFormData.Download,\n    };\n\n    const newContacts = [...contacts, newContact];\n    setContacts(newContacts);\n  };\n\n  const handleDeleteClick = (contactId) => {\n    const newContacts = [...contacts];\n\n    const index = contacts.findIndex((contact) => contact.id === contactId);\n\n    newContacts.splice(index, 1);\n\n    setContacts(newContacts);\n  };\n\n  const Logout_page = () => {\n    props.history.push(\"/\");\n  };\n\n  const handleChange = (event) => {\n    Settype(event.target.value);\n  };\n\n  const handleP = (e) => {\n    setInputP(e.target.value);\n  };\n\n  console.log(\"inputfile\", type);\n\n  return (\n    <Helmet title=\"Public page\">\n      <div style={{ textAlign: \"center\", marginBottom: \"-20px\" }}>\n        <img\n          src=\"../images/logo_TTU.png\"\n          style={{ height: \"150px\", width: \"130px\" }}\n        />\n      </div>\n\n      <div className=\"formaddtext\">\n        <div>\n          <TextField\n            className={classes.inputInput}\n            fullWidth\n            id=\"reset\"\n            type=\"text\"\n            onChange={(e) => Setname(e.target.value)}\n            name=\"uname\"\n            variant=\"outlined\"\n            placeholder=\"Create File/Folder\"\n            InputProps={{\n              style: {\n                borderRadius: 100,\n                paddingLeft: \"50px\",\n\n                fontSize: 15,\n              },\n\n              endAdornment: (\n                <IconButton>\n                  <SearchOutlined\n                    className={classes.iconee}\n                    onClick={() => addForm()}\n                  />\n                </IconButton>\n              ),\n            }}\n          />\n          {renderErrorMessage(\"uname\")}\n        </div>\n      </div>\n\n      <section>\n        <div className=\"Logout\" style={{ textAlign: \"right\" }}>\n          <button\n            className=\"button_new\"\n            style={{ marginTop: \"50px\", marginBottom: \"50px\" }}\n            onClick={() => Logout_page()}\n          >\n            <i class=\"bx bx-log-out\"></i>\n          </button>\n        </div>\n      </section>\n      <div></div>\n\n      <div style={{ textAlign: \"center\" }}>\n        File\n        <Radio\n          checked={type === \"file\"}\n          onChange={handleChange}\n          value=\"file\"\n          name=\"pass\"\n          className={classes.radio1}\n        />\n        Folder\n        <Radio\n          checked={type === \"folder\"}\n          onChange={handleChange}\n          value=\"folder\"\n          name=\"pass\"\n          className={classes.radio2}\n        />\n        <div> {renderErrorMessage(\"pass\")}</div>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        Public\n        <Radio\n          checked={inputP === \"false\"}\n          onChange={handleP}\n          value=\"false\"\n          name=\"PorP\"\n          id=\"Choose_Yes\"\n          className={classes.radio1P}\n        />\n        Private\n        <Radio\n          checked={inputP === \"true\"}\n          onChange={handleP}\n          value=\"true\"\n          name=\"PorP\"\n          id=\"Choose_Yes\"\n          className={classes.radio2P}\n        />\n        <div> {renderErrorMessage(\"PorP\")}</div>\n      </div>\n\n      <div className=\"url\" style={{ textAlign: \"center\" }}>\n        <h3>\n          This is your URL:{\" \"}\n          <span style={{ color: \"red\", cursor: \"pointer\" }}>\n            {\" \"}\n            <Link to={newurl} target=\"_blank\">\n              {\" \"}\n              {\"http://localhost:5000/\" + newurl}\n            </Link>{\" \"}\n          </span>{\" \"}\n        </h3>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        <input\n          className=\"inputgetURL\"\n          type=\"text\"\n          name=\"success\"\n          value={text}\n          onChange={inputHandler}\n          style={{ width: \"400px\", height: \"30px\" }}\n          placeholder=\"Enter spacebar to get link \"\n        />\n\n        <div style={{ marginLeft: \"350px\", marginTop: \"-33px\" }}>\n          <button\n            onClick={copy}\n            disabled={!text}\n            style={{\n              background: \"none\",\n              border: \"none\",\n              marginLeft: \"10px\",\n              paddingTop: \"-10px\",\n            }}\n          >\n            <i\n              class=\"bx bx-copy\"\n              variant=\"inherit\"\n              style={{ fontSize: \"30px\", lineHeight: \"20px\" }}\n            ></i>\n          </button>\n        </div>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>{renderErrorMessage(\"success\")}</div>\n\n      {/* <div className=\"app-container\">\n        <form className=\"formtabledata\">\n          <table className=\"tablecontent\">\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Size</th>\n                <th>Date</th>\n                <th>Download</th>\n                <th>Delete</th>\n              </tr>\n            </thead>\n            <tbody>\n              {contacts.map((contact) => (\n                <Fragment>\n                  <ReadOnlyRow contact={contact} handleDeleteClick={handleDeleteClick} />\n                </Fragment>\n              ))}\n            </tbody>\n          </table>\n        </form>\n      </div> */}\n    </Helmet>\n  );\n};\n\nexport default Private;\n"]},"metadata":{},"sourceType":"module"}
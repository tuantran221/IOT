{"ast":null,"code":"import _toConsumableArray from\"/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/node_modules/@babel/runtime/regenerator/index.js\";import{IconButton,TextField}from\"@material-ui/core\";import Radio from\"@material-ui/core/Radio\";import{makeStyles}from\"@material-ui/core/styles\";import{SearchOutlined}from\"@material-ui/icons\";import axios from\"axios\";import{nanoid}from\"nanoid\";import{default as React,useState}from\"react\";import{Link}from\"react-router-dom\";import Helmet from\"../components/Helmet\";import dataPV from\"../components/Private_data.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(){return{inputInput:{minWidth:\"400px\",marginBottom:\"-20px\",border:0,borderRadius:20,color:\"white\"},iconee:{fontSize:\"30px\"},radio1:{height:40,marginRight:100,marginLeft:\"10px\"},radio2:{height:40},radio1P:{height:40,marginRight:100},radio2P:{height:40,marginLeft:\"-5px\"}};});var Private=function Private(props){var classes=useStyles();// using useState to set state foe values\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),filename=_useState2[0],Setname=_useState2[1];var _useState3=useState(\"file\"),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],Settype=_useState4[1];var _useState5=useState(\"false\"),_useState6=_slicedToArray(_useState5,2),inputP=_useState6[0],setInputP=_useState6[1];var _useState7=useState(\"...\"),_useState8=_slicedToArray(_useState7,2),newurl=_useState8[0],setNewurl=_useState8[1];console.log(\"newurl\",newurl);var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),errorMessages=_useState10[0],setErrorMessages=_useState10[1];var SERVER_URL=\"\".concat(process.env.REACT_APP_SERVER_URL,\"/create/\");console.log(\"server api\",SERVER_URL);var errors={uname:\"Please enter file name\",pass:\"please choose File or Folder\",PorP:\"please choose Public or Private\",success:\"successfull copied\"};var addForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,newform,Id;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:document.getElementById(\"reset\").value=\"\";document.getElementById(\"Choose_Yes\").checked=false;if(!(filename===\"\")){_context.next=6;break;}setErrorMessages({name:\"uname\",message:errors.uname});_context.next=24;break;case 6:if(!(type===undefined||type===\"\")){_context.next=10;break;}setErrorMessages({name:\"pass\",message:errors.pass});_context.next=24;break;case 10:if(!(inputP===undefined)){_context.next=14;break;}setErrorMessages({name:\"PorP\",message:errors.PorP});_context.next=24;break;case 14:token=localStorage.getItem(\"accessToken\");console.log(\"token\",token);newform={name:filename,isPrivate:inputP,type:type};_context.next=19;return axios({method:\"POST\",url:SERVER_URL,data:newform// headers: {\n//   authorization: \"token: \" + token,\n// },\n});case 19:Id=_context.sent;Setname(\"\");Settype(\"\");console.log(\"form\",newform);if(newform.type===\"file\"){setNewurl(Id.data.data.ID);}else{setNewurl(Id.data.data);}case 24:case\"end\":return _context.stop();}}},_callee);}));return function addForm(){return _ref.apply(this,arguments);};}();var renderErrorMessage=function renderErrorMessage(filename){return filename===errorMessages.filename&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:errorMessages.message});};var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),text=_useState12[0],setText=_useState12[1];var inputHandler=function inputHandler(){setText(SERVER_URL+newurl);};var copy=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return navigator.clipboard.writeText(text);case 2:setErrorMessages({name:\"success\",message:errors.success});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function copy(){return _ref2.apply(this,arguments);};}();var _useState13=useState(dataPV),_useState14=_slicedToArray(_useState13,2),contacts=_useState14[0],setContacts=_useState14[1];var _useState15=useState({Name:\"\",Size:\"\",Dates:\"\",Download:\"\"}),_useState16=_slicedToArray(_useState15,2),addFormData=_useState16[0],setAddFormData=_useState16[1];var handleAddFormSubmit=function handleAddFormSubmit(event){event.preventDefault();var newContact={id:nanoid(),Name:addFormData.Name,Size:addFormData.Size,Dates:addFormData.Dates,Download:addFormData.Download};var newContacts=[].concat(_toConsumableArray(contacts),[newContact]);setContacts(newContacts);};var handleDeleteClick=function handleDeleteClick(contactId){var newContacts=_toConsumableArray(contacts);var index=contacts.findIndex(function(contact){return contact.id===contactId;});newContacts.splice(index,1);setContacts(newContacts);};var Logout_page=function Logout_page(){props.history.push(\"/\");};var handleChange=function handleChange(event){Settype(event.target.value);};var handleP=function handleP(e){setInputP(e.target.value);};console.log(\"inputfile\",type);return/*#__PURE__*/_jsxs(Helmet,{title:\"Public page\",children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",marginBottom:\"-20px\"},children:/*#__PURE__*/_jsx(\"img\",{src:\"../images/logo_TTU.png\",style:{height:\"150px\",width:\"130px\"}})}),/*#__PURE__*/_jsx(\"div\",{className:\"formaddtext\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TextField,{className:classes.inputInput,fullWidth:true,id:\"reset\",type:\"text\",onChange:function onChange(e){return Setname(e.target.value);},name:\"uname\",variant:\"outlined\",placeholder:\"Create File/Folder\",InputProps:{style:{borderRadius:100,paddingLeft:\"50px\",fontSize:15},endAdornment:/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(SearchOutlined,{className:classes.iconee,onClick:function onClick(){return addForm();}})})}}),renderErrorMessage(\"uname\")]})}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"Logout\",style:{textAlign:\"right\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"button_new\",style:{marginTop:\"50px\",marginBottom:\"50px\"},onClick:function onClick(){return Logout_page();},children:/*#__PURE__*/_jsx(\"i\",{class:\"bx bx-log-out\"})})})}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[\"File\",/*#__PURE__*/_jsx(Radio,{checked:type===\"file\",onChange:handleChange,value:\"file\",name:\"pass\",className:classes.radio1}),\"Folder\",/*#__PURE__*/_jsx(Radio,{checked:type===\"folder\",onChange:handleChange,value:\"folder\",name:\"pass\",className:classes.radio2}),/*#__PURE__*/_jsxs(\"div\",{children:[\" \",renderErrorMessage(\"pass\")]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[\"Public\",/*#__PURE__*/_jsx(Radio,{checked:inputP===\"false\",onChange:handleP,value:\"false\",name:\"PorP\",id:\"Choose_Yes\",className:classes.radio1P}),\"Private\",/*#__PURE__*/_jsx(Radio,{checked:inputP===\"true\",onChange:handleP,value:\"true\",name:\"PorP\",id:\"Choose_Yes\",className:classes.radio2P}),/*#__PURE__*/_jsxs(\"div\",{children:[\" \",renderErrorMessage(\"PorP\")]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"url\",style:{textAlign:\"center\"},children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"This is your URL:\",\" \",/*#__PURE__*/_jsxs(\"span\",{style:{color:\"red\",cursor:\"pointer\"},children:[\" \",/*#__PURE__*/_jsxs(Link,{to:newurl,target:\"_blank\",children:[\" \",\"http://localhost:5000/\"+newurl]}),\" \"]}),\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputgetURL\",type:\"text\",name:\"success\",value:text,onChange:inputHandler,style:{width:\"400px\",height:\"30px\"},placeholder:\"Enter spacebar to get link \"}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:\"350px\",marginTop:\"-33px\"},children:/*#__PURE__*/_jsx(\"button\",{onClick:copy,disabled:!text,style:{background:\"none\",border:\"none\",marginLeft:\"10px\",paddingTop:\"-10px\"},children:/*#__PURE__*/_jsx(\"i\",{class:\"bx bx-copy\",variant:\"inherit\",style:{fontSize:\"30px\",lineHeight:\"20px\"}})})})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:renderErrorMessage(\"success\")})]});};export default Private;","map":{"version":3,"sources":["/home/tuantran221/Spring2022/software_design/icloud/IOT/frontend/src/pages/Private.jsx"],"names":["IconButton","TextField","Radio","makeStyles","SearchOutlined","axios","nanoid","default","React","useState","Link","Helmet","dataPV","useStyles","inputInput","minWidth","marginBottom","border","borderRadius","color","iconee","fontSize","radio1","height","marginRight","marginLeft","radio2","radio1P","radio2P","Private","props","classes","filename","Setname","type","Settype","inputP","setInputP","newurl","setNewurl","console","log","errorMessages","setErrorMessages","SERVER_URL","process","env","REACT_APP_SERVER_URL","errors","uname","pass","PorP","success","addForm","document","getElementById","value","checked","name","message","undefined","token","localStorage","getItem","newform","isPrivate","method","url","data","Id","ID","renderErrorMessage","text","setText","inputHandler","copy","navigator","clipboard","writeText","contacts","setContacts","Name","Size","Dates","Download","addFormData","setAddFormData","handleAddFormSubmit","event","preventDefault","newContact","id","newContacts","handleDeleteClick","contactId","index","findIndex","contact","splice","Logout_page","history","push","handleChange","target","handleP","e","textAlign","width","style","paddingLeft","endAdornment","marginTop","cursor","background","paddingTop","lineHeight"],"mappings":"mmBAAA,OAASA,UAAT,CAAqBC,SAArB,KAAsC,mBAAtC,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,cAAT,KAA+B,oBAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,KAAuB,QAAvB,CACA,OAASC,OAAO,GAAIC,CAAAA,KAApB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iCAAnB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAGV,UAAU,CAAC,iBAAO,CAClCW,UAAU,CAAE,CACVC,QAAQ,CAAE,OADA,CAEVC,YAAY,CAAE,OAFJ,CAIVC,MAAM,CAAE,CAJE,CAKVC,YAAY,CAAE,EALJ,CAMVC,KAAK,CAAE,OANG,CADsB,CASlCC,MAAM,CAAE,CACNC,QAAQ,CAAE,MADJ,CAT0B,CAYlCC,MAAM,CAAE,CACNC,MAAM,CAAE,EADF,CAENC,WAAW,CAAE,GAFP,CAGNC,UAAU,CAAE,MAHN,CAZ0B,CAiBlCC,MAAM,CAAE,CACNH,MAAM,CAAE,EADF,CAjB0B,CAoBlCI,OAAO,CAAE,CACPJ,MAAM,CAAE,EADD,CAEPC,WAAW,CAAE,GAFN,CApByB,CAwBlCI,OAAO,CAAE,CACPL,MAAM,CAAE,EADD,CAEPE,UAAU,CAAE,MAFL,CAxByB,CAAP,EAAD,CAA5B,CA8BA,GAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACzB,GAAMC,CAAAA,OAAO,CAAGlB,SAAS,EAAzB,CACA;AACA,cAA4BJ,QAAQ,CAAC,EAAD,CAApC,wCAAOuB,QAAP,eAAiBC,OAAjB,eACA,eAAwBxB,QAAQ,CAAC,MAAD,CAAhC,yCAAOyB,IAAP,eAAaC,OAAb,eACA,eAA4B1B,QAAQ,CAAC,OAAD,CAApC,yCAAO2B,MAAP,eAAeC,SAAf,eAEA,eAA4B5B,QAAQ,CAAC,KAAD,CAApC,yCAAO6B,MAAP,eAAeC,SAAf,eAEAC,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBH,MAAtB,EACA,eAA0C7B,QAAQ,CAAC,EAAD,CAAlD,0CAAOiC,aAAP,gBAAsBC,gBAAtB,gBACA,GAAMC,CAAAA,UAAU,WAAMC,OAAO,CAACC,GAAR,CAAYC,oBAAlB,YAAhB,CACAP,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BG,UAA1B,EACA,GAAMI,CAAAA,MAAM,CAAG,CACbC,KAAK,CAAE,wBADM,CAEbC,IAAI,CAAE,8BAFO,CAGbC,IAAI,CAAE,iCAHO,CAIbC,OAAO,CAAE,oBAJI,CAAf,CAOA,GAAMC,CAAAA,OAAO,0FAAG,wJACdC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAAjC,CAAyC,EAAzC,CACAF,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCE,OAAtC,CAAgD,KAAhD,CAFc,KAIVzB,QAAQ,GAAK,EAJH,0BAKZW,gBAAgB,CAAC,CAAEe,IAAI,CAAE,OAAR,CAAiBC,OAAO,CAAEX,MAAM,CAACC,KAAjC,CAAD,CAAhB,CALY,mCAMHf,IAAI,GAAK0B,SAAT,EAAsB1B,IAAI,GAAK,EAN5B,2BAOZS,gBAAgB,CAAC,CAAEe,IAAI,CAAE,MAAR,CAAgBC,OAAO,CAAEX,MAAM,CAACE,IAAhC,CAAD,CAAhB,CAPY,oCAQHd,MAAM,GAAKwB,SARR,2BASZjB,gBAAgB,CAAC,CAAEe,IAAI,CAAE,MAAR,CAAgBC,OAAO,CAAEX,MAAM,CAACG,IAAhC,CAAD,CAAhB,CATY,+BAWRU,KAXQ,CAWAC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAXA,CAYZvB,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBoB,KAArB,EACIG,OAbQ,CAaE,CACZN,IAAI,CAAE1B,QADM,CAEZiC,SAAS,CAAE7B,MAFC,CAGZF,IAAI,CAAEA,IAHM,CAbF,wBAkBG7B,CAAAA,KAAK,CAAC,CACnB6D,MAAM,CAAE,MADW,CAEnBC,GAAG,CAAEvB,UAFc,CAGnBwB,IAAI,CAAEJ,OACN;AACA;AACA;AANmB,CAAD,CAlBR,SAkBRK,EAlBQ,eA0BZpC,OAAO,CAAC,EAAD,CAAP,CACAE,OAAO,CAAC,EAAD,CAAP,CACAK,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBuB,OAApB,EACA,GAAIA,OAAO,CAAC9B,IAAR,GAAiB,MAArB,CAA4B,CAC1BK,SAAS,CAAC8B,EAAE,CAACD,IAAH,CAAQA,IAAR,CAAaE,EAAd,CAAT,CACD,CAFD,IAEK,CACH/B,SAAS,CAAC8B,EAAE,CAACD,IAAH,CAAQA,IAAT,CAAT,CACD,CAjCW,uDAAH,kBAAPf,CAAAA,OAAO,0CAAb,CAqCA,GAAMkB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACvC,QAAD,QACzBA,CAAAA,QAAQ,GAAKU,aAAa,CAACV,QAA3B,eACE,YAAK,SAAS,CAAC,OAAf,UAAwBU,aAAa,CAACiB,OAAtC,EAFuB,EAA3B,CAKA,gBAAwBlD,QAAQ,CAAC,EAAD,CAAhC,2CAAO+D,IAAP,gBAAaC,OAAb,gBAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBD,OAAO,CAAE7B,UAAU,CAAGN,MAAf,CAAP,CACD,CAFD,CAIA,GAAMqC,CAAAA,IAAI,2FAAG,+JACLC,CAAAA,SAAS,CAACC,SAAV,CAAoBC,SAApB,CAA8BN,IAA9B,CADK,QAGX7B,gBAAgB,CAAC,CAAEe,IAAI,CAAE,SAAR,CAAmBC,OAAO,CAAEX,MAAM,CAACI,OAAnC,CAAD,CAAhB,CAHW,wDAAH,kBAAJuB,CAAAA,IAAI,2CAAV,CAMA,gBAAgClE,QAAQ,CAACG,MAAD,CAAxC,2CAAOmE,QAAP,gBAAiBC,WAAjB,gBACA,gBAAsCvE,QAAQ,CAAC,CAC7CwE,IAAI,CAAE,EADuC,CAE7CC,IAAI,CAAE,EAFuC,CAG7CC,KAAK,CAAE,EAHsC,CAI7CC,QAAQ,CAAE,EAJmC,CAAD,CAA9C,2CAAOC,WAAP,gBAAoBC,cAApB,gBASA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAAW,CACrCA,KAAK,CAACC,cAAN,GAEA,GAAMC,CAAAA,UAAU,CAAG,CACjBC,EAAE,CAAErF,MAAM,EADO,CAEjB2E,IAAI,CAAEI,WAAW,CAACJ,IAFD,CAGjBC,IAAI,CAAEG,WAAW,CAACH,IAHD,CAIjBC,KAAK,CAAEE,WAAW,CAACF,KAJF,CAKjBC,QAAQ,CAAEC,WAAW,CAACD,QALL,CAAnB,CAQA,GAAMQ,CAAAA,WAAW,8BAAOb,QAAP,GAAiBW,UAAjB,EAAjB,CACAV,WAAW,CAACY,WAAD,CAAX,CACD,CAbD,CAeA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,SAAD,CAAe,CACvC,GAAMF,CAAAA,WAAW,oBAAOb,QAAP,CAAjB,CAEA,GAAMgB,CAAAA,KAAK,CAAGhB,QAAQ,CAACiB,SAAT,CAAmB,SAACC,OAAD,QAAaA,CAAAA,OAAO,CAACN,EAAR,GAAeG,SAA5B,EAAnB,CAAd,CAEAF,WAAW,CAACM,MAAZ,CAAmBH,KAAnB,CAA0B,CAA1B,EAEAf,WAAW,CAACY,WAAD,CAAX,CACD,CARD,CAUA,GAAMO,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBrE,KAAK,CAACsE,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACd,KAAD,CAAW,CAC9BrD,OAAO,CAACqD,KAAK,CAACe,MAAN,CAAa/C,KAAd,CAAP,CACD,CAFD,CAIA,GAAMgD,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,CAAD,CAAO,CACrBpE,SAAS,CAACoE,CAAC,CAACF,MAAF,CAAS/C,KAAV,CAAT,CACD,CAFD,CAIAhB,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBP,IAAzB,EAEA,mBACE,MAAC,MAAD,EAAQ,KAAK,CAAC,aAAd,wBACE,YAAK,KAAK,CAAE,CAAEwE,SAAS,CAAE,QAAb,CAAuB1F,YAAY,CAAE,OAArC,CAAZ,uBACE,YACE,GAAG,CAAC,wBADN,CAEE,KAAK,CAAE,CAAEO,MAAM,CAAE,OAAV,CAAmBoF,KAAK,CAAE,OAA1B,CAFT,EADF,EADF,cAQE,YAAK,SAAS,CAAC,aAAf,uBACE,oCACE,KAAC,SAAD,EACE,SAAS,CAAE5E,OAAO,CAACjB,UADrB,CAEE,SAAS,KAFX,CAGE,EAAE,CAAC,OAHL,CAIE,IAAI,CAAC,MAJP,CAKE,QAAQ,CAAE,kBAAC2F,CAAD,QAAOxE,CAAAA,OAAO,CAACwE,CAAC,CAACF,MAAF,CAAS/C,KAAV,CAAd,EALZ,CAME,IAAI,CAAC,OANP,CAOE,OAAO,CAAC,UAPV,CAQE,WAAW,CAAC,oBARd,CASE,UAAU,CAAE,CACVoD,KAAK,CAAE,CACL1F,YAAY,CAAE,GADT,CAEL2F,WAAW,CAAE,MAFR,CAILxF,QAAQ,CAAE,EAJL,CADG,CAQVyF,YAAY,cACV,KAAC,UAAD,wBACE,KAAC,cAAD,EACE,SAAS,CAAE/E,OAAO,CAACX,MADrB,CAEE,OAAO,CAAE,yBAAMiC,CAAAA,OAAO,EAAb,EAFX,EADF,EATQ,CATd,EADF,CA4BGkB,kBAAkB,CAAC,OAAD,CA5BrB,GADF,EARF,cAyCE,sCACE,YAAK,SAAS,CAAC,QAAf,CAAwB,KAAK,CAAE,CAAEmC,SAAS,CAAE,OAAb,CAA/B,uBACE,eACE,SAAS,CAAC,YADZ,CAEE,KAAK,CAAE,CAAEK,SAAS,CAAE,MAAb,CAAqB/F,YAAY,CAAE,MAAnC,CAFT,CAGE,OAAO,CAAE,yBAAMmF,CAAAA,WAAW,EAAjB,EAHX,uBAKE,UAAG,KAAK,CAAC,eAAT,EALF,EADF,EADF,EAzCF,cAoDE,cApDF,cAsDE,aAAK,KAAK,CAAE,CAAEO,SAAS,CAAE,QAAb,CAAZ,+BAEE,KAAC,KAAD,EACE,OAAO,CAAExE,IAAI,GAAK,MADpB,CAEE,QAAQ,CAAEoE,YAFZ,CAGE,KAAK,CAAC,MAHR,CAIE,IAAI,CAAC,MAJP,CAKE,SAAS,CAAEvE,OAAO,CAACT,MALrB,EAFF,uBAUE,KAAC,KAAD,EACE,OAAO,CAAEY,IAAI,GAAK,QADpB,CAEE,QAAQ,CAAEoE,YAFZ,CAGE,KAAK,CAAC,QAHR,CAIE,IAAI,CAAC,MAJP,CAKE,SAAS,CAAEvE,OAAO,CAACL,MALrB,EAVF,cAiBE,2BAAO6C,kBAAkB,CAAC,MAAD,CAAzB,GAjBF,GAtDF,cA0EE,aAAK,KAAK,CAAE,CAAEmC,SAAS,CAAE,QAAb,CAAZ,iCAEE,KAAC,KAAD,EACE,OAAO,CAAEtE,MAAM,GAAK,OADtB,CAEE,QAAQ,CAAEoE,OAFZ,CAGE,KAAK,CAAC,OAHR,CAIE,IAAI,CAAC,MAJP,CAKE,EAAE,CAAC,YALL,CAME,SAAS,CAAEzE,OAAO,CAACJ,OANrB,EAFF,wBAWE,KAAC,KAAD,EACE,OAAO,CAAES,MAAM,GAAK,MADtB,CAEE,QAAQ,CAAEoE,OAFZ,CAGE,KAAK,CAAC,MAHR,CAIE,IAAI,CAAC,MAJP,CAKE,EAAE,CAAC,YALL,CAME,SAAS,CAAEzE,OAAO,CAACH,OANrB,EAXF,cAmBE,2BAAO2C,kBAAkB,CAAC,MAAD,CAAzB,GAnBF,GA1EF,cAgGE,YAAK,SAAS,CAAC,KAAf,CAAqB,KAAK,CAAE,CAAEmC,SAAS,CAAE,QAAb,CAA5B,uBACE,0CACoB,GADpB,cAEE,cAAM,KAAK,CAAE,CAAEvF,KAAK,CAAE,KAAT,CAAgB6F,MAAM,CAAE,SAAxB,CAAb,WACG,GADH,cAEE,MAAC,IAAD,EAAM,EAAE,CAAE1E,MAAV,CAAkB,MAAM,CAAC,QAAzB,WACG,GADH,CAEG,yBAA2BA,MAF9B,GAFF,CAKU,GALV,GAFF,CAQU,GARV,GADF,EAhGF,cA6GE,aAAK,KAAK,CAAE,CAAEoE,SAAS,CAAE,QAAb,CAAZ,wBACE,cACE,SAAS,CAAC,aADZ,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,SAHP,CAIE,KAAK,CAAElC,IAJT,CAKE,QAAQ,CAAEE,YALZ,CAME,KAAK,CAAE,CAAEiC,KAAK,CAAE,OAAT,CAAkBpF,MAAM,CAAE,MAA1B,CANT,CAOE,WAAW,CAAC,6BAPd,EADF,cAWE,YAAK,KAAK,CAAE,CAAEE,UAAU,CAAE,OAAd,CAAuBsF,SAAS,CAAE,OAAlC,CAAZ,uBACE,eACE,OAAO,CAAEpC,IADX,CAEE,QAAQ,CAAE,CAACH,IAFb,CAGE,KAAK,CAAE,CACLyC,UAAU,CAAE,MADP,CAELhG,MAAM,CAAE,MAFH,CAGLQ,UAAU,CAAE,MAHP,CAILyF,UAAU,CAAE,OAJP,CAHT,uBAUE,UACE,KAAK,CAAC,YADR,CAEE,OAAO,CAAC,SAFV,CAGE,KAAK,CAAE,CAAE7F,QAAQ,CAAE,MAAZ,CAAoB8F,UAAU,CAAE,MAAhC,CAHT,EAVF,EADF,EAXF,GA7GF,cA4IE,YAAK,KAAK,CAAE,CAAET,SAAS,CAAE,QAAb,CAAZ,UAAsCnC,kBAAkB,CAAC,SAAD,CAAxD,EA5IF,GADF,CAuKD,CAlSD,CAoSA,cAAe1C,CAAAA,OAAf","sourcesContent":["import { IconButton, TextField } from \"@material-ui/core\";\nimport Radio from \"@material-ui/core/Radio\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { SearchOutlined } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { nanoid } from \"nanoid\";\nimport { default as React, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Helmet from \"../components/Helmet\";\nimport dataPV from \"../components/Private_data.json\";\n\nconst useStyles = makeStyles(() => ({\n  inputInput: {\n    minWidth: \"400px\",\n    marginBottom: \"-20px\",\n\n    border: 0,\n    borderRadius: 20,\n    color: \"white\",\n  },\n  iconee: {\n    fontSize: \"30px\",\n  },\n  radio1: {\n    height: 40,\n    marginRight: 100,\n    marginLeft: \"10px\",\n  },\n  radio2: {\n    height: 40,\n  },\n  radio1P: {\n    height: 40,\n    marginRight: 100,\n  },\n  radio2P: {\n    height: 40,\n    marginLeft: \"-5px\",\n  },\n}));\n\nconst Private = (props) => {\n  const classes = useStyles();\n  // using useState to set state foe values\n  const [filename, Setname] = useState(\"\");\n  const [type, Settype] = useState(\"file\");\n  const [inputP, setInputP] = useState(\"false\");\n\n  const [newurl, setNewurl] = useState(\"...\");\n\n  console.log(\"newurl\", newurl)\n  const [errorMessages, setErrorMessages] = useState({});\n  const SERVER_URL = `${process.env.REACT_APP_SERVER_URL}/create/`;\n  console.log(\"server api\", SERVER_URL)\n  const errors = {\n    uname: \"Please enter file name\",\n    pass: \"please choose File or Folder\",\n    PorP: \"please choose Public or Private\",\n    success: \"successfull copied\",\n  };\n\n  const addForm = async () => {\n    document.getElementById(\"reset\").value = \"\";\n    document.getElementById(\"Choose_Yes\").checked = false;\n\n    if (filename === \"\") {\n      setErrorMessages({ name: \"uname\", message: errors.uname });\n    } else if (type === undefined || type === \"\") {\n      setErrorMessages({ name: \"pass\", message: errors.pass });\n    } else if (inputP === undefined) {\n      setErrorMessages({ name: \"PorP\", message: errors.PorP });\n    } else {\n      let token = localStorage.getItem(\"accessToken\");\n      console.log(\"token\", token)\n      var newform = {\n        name: filename,\n        isPrivate: inputP,\n        type: type,\n      };\n      let Id = await axios({\n        method: \"POST\",\n        url: SERVER_URL,\n        data: newform,\n        // headers: {\n        //   authorization: \"token: \" + token,\n        // },\n      });\n      Setname(\"\");\n      Settype(\"\");\n      console.log(\"form\", newform)\n      if (newform.type === \"file\"){ \n        setNewurl(Id.data.data.ID);\n      }else{\n        setNewurl(Id.data.data)\n      }\n    }\n  };\n\n  const renderErrorMessage = (filename) =>\n    filename === errorMessages.filename && (\n      <div className=\"error\">{errorMessages.message}</div>\n    );\n\n  const [text, setText] = useState(\"\");\n\n  const inputHandler = () => {\n    setText( SERVER_URL + newurl);\n  };\n\n  const copy = async () => {\n    await navigator.clipboard.writeText(text);\n\n    setErrorMessages({ name: \"success\", message: errors.success });\n  };\n\n  const [contacts, setContacts] = useState(dataPV);\n  const [addFormData, setAddFormData] = useState({\n    Name: \"\",\n    Size: \"\",\n    Dates: \"\",\n    Download: \"\",\n  });\n\n\n\n  const handleAddFormSubmit = (event) => {\n    event.preventDefault();\n\n    const newContact = {\n      id: nanoid(),\n      Name: addFormData.Name,\n      Size: addFormData.Size,\n      Dates: addFormData.Dates,\n      Download: addFormData.Download,\n    };\n\n    const newContacts = [...contacts, newContact];\n    setContacts(newContacts);\n  };\n\n  const handleDeleteClick = (contactId) => {\n    const newContacts = [...contacts];\n\n    const index = contacts.findIndex((contact) => contact.id === contactId);\n\n    newContacts.splice(index, 1);\n\n    setContacts(newContacts);\n  };\n\n  const Logout_page = () => {\n    props.history.push(\"/\");\n  };\n\n  const handleChange = (event) => {\n    Settype(event.target.value);\n  };\n\n  const handleP = (e) => {\n    setInputP(e.target.value);\n  };\n\n  console.log(\"inputfile\", type);\n\n  return (\n    <Helmet title=\"Public page\">\n      <div style={{ textAlign: \"center\", marginBottom: \"-20px\" }}>\n        <img\n          src=\"../images/logo_TTU.png\"\n          style={{ height: \"150px\", width: \"130px\" }}\n        />\n      </div>\n\n      <div className=\"formaddtext\">\n        <div>\n          <TextField\n            className={classes.inputInput}\n            fullWidth\n            id=\"reset\"\n            type=\"text\"\n            onChange={(e) => Setname(e.target.value)}\n            name=\"uname\"\n            variant=\"outlined\"\n            placeholder=\"Create File/Folder\"\n            InputProps={{\n              style: {\n                borderRadius: 100,\n                paddingLeft: \"50px\",\n\n                fontSize: 15,\n              },\n\n              endAdornment: (\n                <IconButton>\n                  <SearchOutlined\n                    className={classes.iconee}\n                    onClick={() => addForm()}\n                  />\n                </IconButton>\n              ),\n            }}\n          />\n          {renderErrorMessage(\"uname\")}\n        </div>\n      </div>\n\n      <section>\n        <div className=\"Logout\" style={{ textAlign: \"right\" }}>\n          <button\n            className=\"button_new\"\n            style={{ marginTop: \"50px\", marginBottom: \"50px\" }}\n            onClick={() => Logout_page()}\n          >\n            <i class=\"bx bx-log-out\"></i>\n          </button>\n        </div>\n      </section>\n      <div></div>\n\n      <div style={{ textAlign: \"center\" }}>\n        File\n        <Radio\n          checked={type === \"file\"}\n          onChange={handleChange}\n          value=\"file\"\n          name=\"pass\"\n          className={classes.radio1}\n        />\n        Folder\n        <Radio\n          checked={type === \"folder\"}\n          onChange={handleChange}\n          value=\"folder\"\n          name=\"pass\"\n          className={classes.radio2}\n        />\n        <div> {renderErrorMessage(\"pass\")}</div>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        Public\n        <Radio\n          checked={inputP === \"false\"}\n          onChange={handleP}\n          value=\"false\"\n          name=\"PorP\"\n          id=\"Choose_Yes\"\n          className={classes.radio1P}\n        />\n        Private\n        <Radio\n          checked={inputP === \"true\"}\n          onChange={handleP}\n          value=\"true\"\n          name=\"PorP\"\n          id=\"Choose_Yes\"\n          className={classes.radio2P}\n        />\n        <div> {renderErrorMessage(\"PorP\")}</div>\n      </div>\n\n      <div className=\"url\" style={{ textAlign: \"center\" }}>\n        <h3>\n          This is your URL:{\" \"}\n          <span style={{ color: \"red\", cursor: \"pointer\" }}>\n            {\" \"}\n            <Link to={newurl} target=\"_blank\">\n              {\" \"}\n              {\"http://localhost:5000/\" + newurl}\n            </Link>{\" \"}\n          </span>{\" \"}\n        </h3>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>\n        <input\n          className=\"inputgetURL\"\n          type=\"text\"\n          name=\"success\"\n          value={text}\n          onChange={inputHandler}\n          style={{ width: \"400px\", height: \"30px\" }}\n          placeholder=\"Enter spacebar to get link \"\n        />\n\n        <div style={{ marginLeft: \"350px\", marginTop: \"-33px\" }}>\n          <button\n            onClick={copy}\n            disabled={!text}\n            style={{\n              background: \"none\",\n              border: \"none\",\n              marginLeft: \"10px\",\n              paddingTop: \"-10px\",\n            }}\n          >\n            <i\n              class=\"bx bx-copy\"\n              variant=\"inherit\"\n              style={{ fontSize: \"30px\", lineHeight: \"20px\" }}\n            ></i>\n          </button>\n        </div>\n      </div>\n\n      <div style={{ textAlign: \"center\" }}>{renderErrorMessage(\"success\")}</div>\n\n      {/* <div className=\"app-container\">\n        <form className=\"formtabledata\">\n          <table className=\"tablecontent\">\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Size</th>\n                <th>Date</th>\n                <th>Download</th>\n                <th>Delete</th>\n              </tr>\n            </thead>\n            <tbody>\n              {contacts.map((contact) => (\n                <Fragment>\n                  <ReadOnlyRow contact={contact} handleDeleteClick={handleDeleteClick} />\n                </Fragment>\n              ))}\n            </tbody>\n          </table>\n        </form>\n      </div> */}\n    </Helmet>\n  );\n};\n\nexport default Private;\n"]},"metadata":{},"sourceType":"module"}